/*
 * Image.c
 *
 *  Created on: 2021年10月28日
 *      Author: windows
 */
#include "image.h"
//aaaaa
int f[10 * CAMERA_H];//考察连通域联通性
int zebraCount = 0, zFlag = 0;

uint8_t* fullBuffer = &mt9v034_image[0][0];



int state=stateStart;


int stateUsed = 0;

int lastTwoState=0;
int lastState=0;
int featureLeft;
int featureRight;
int islandtype;


jump_point partJumpPoint[CAMERA_H];
all_range white_range[CAMERA_H];//所有白条子
road my_road[CAMERA_H];//赛道
//uint8_t word[CAMERA_H][CAMERA_H];//
//uint8_t my_map[CAMERA_H][CAMERA_H];//
uint8_t IMG[CAMERA_H][CAMERA_W];//二值化后图像数组
//uint8_t IMG_IMP[CAMERA_H][CAMERA_W];
//uint8_t IMG_distor[CAMERA_H][CAMERA_W];
uint8_t left_line[CAMERA_H], right_line[CAMERA_H];//赛道的左右边界
uint8_t mid_line[CAMERA_H];
road_noise swell;
int all_connect_num = 0;//所有白条子数
uint8_t top_road;//赛道最高处所在行数
uint8_t threshold = 140;//阈值
uint8_t thresholdUp;
uint8_t thresholdDown;

int TurnFolkRoad = RIGHT;
int turnWhere = RIGHT;

uint8_t j_continue[CAMERA_H];

int leftDownJumpPoint;//寻找左下角的拐点的行数
int leftUpJumpPoint;//寻找左上角的拐点的行数
int rightDownJumpPoint;//寻找右下角的拐点的行数
int rightUpJumpPoint;//寻找右下角的拐点的行数
int flagJumpPoint;//跳跃点的个数

//三叉
int upSharpPoint = 119;
int leftSharpPoint = 119;
int rightSharpPoint = 119;

uint8_t missLeft[CAMERA_H];
uint8_t missRight[CAMERA_H];

uint8_t ForeSee = 35;
coordinate foreSee[CAMERA_W];

//uint8_t zebraFlag;
//uint8_t zebraCircle;
//const uint8_t left_side[CHANGED_H] = { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,3,3,3,6,6,6,8,8,10,10,10,12,12,14,14,14,16,16,18,18,20,20,21,21,23,23,24,26,26,27,27,28,30,30,31,32,33,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,49,51,51,52,53,54,55,56,56,57,58,59,60,61,61,62,63,64,65,66,67,67,68,69 };
//const uint8_t right_side[CHANGED_H] = { 187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,187,184,184,184,181,181,181,179,179,177,177,177,175,175,173,173,173,171,171,169,169,167,167,166,166,164,164,163,161,161,160,160,159,157,157,156,155,154,154,153,152,151,150,150,149,148,147,146,145,144,143,142,141,141,140,139,138,138,136,136,135,134,133,132,131,131,130,129,128,127,126,126,125,124,123,122,121,120,120,119,118 };
//const uint8_t i_fix[CHANGED_H] = { 10,10,10,11,11,11,11,11,11,12,12,12,12,13,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,17,17,17,17,18,18,18,19,19,19,20,20,20,21,21,21,22,22,23,23,23,24,24,25,25,25,26,26,27,27,28,28,29,29,30,30,31,32,32,33,33,34,35,35,36,37,38,38,39,40,41,42,42,43,44,45,46,47,48,50,51,52,53,54,56,57,58,60,61,63,65,66,68,70,72,74,76,79,81,84,86,89,92,95,99,102,106,110,114,119 };
//const uint8_t j_fix[CHANGED_H][CHANGED_W] ={ {23,24,25,26,26,27,28,29,29,30,31,32,32,33,34,35,35,36,37,38,38,39,40,41,41,42,43,44,44,45,46,47,47,48,49,50,50,51,52,53,53,54,55,56,56,57,58,59,59,60,61,62,62,63,64,65,65,66,67,68,68,69,70,71,71,72,73,74,74,75,76,77,77,78,79,80,80,81,82,83,83,84,85,86,86,87,88,89,89,90,91,92,92,93,94,95,95,96,97,98,98,99,100,101,101,102,103,104,104,105,106,107,107,108,109,110,110,111,112,113,113,114,115,116,116,117,118,119,119,120,121,122,122,123,124,125,125,126,127,128,128,129,130,131,131,132,133,134,134,135,136,137,137,138,139,140,140,141,142,143,143,144,145,146,146,147,148,149,149,150,151,152,152,153,154,155,155,156,157,158,158,159,160,161,161,162,163,164},
//        {23,24,25,26,26,27,28,29,29,30,31,32,32,33,34,35,35,36,37,38,38,39,40,41,41,42,43,44,44,45,46,47,47,48,49,50,50,51,52,53,53,54,55,56,56,57,58,59,59,60,61,62,62,63,64,65,65,66,67,68,68,69,70,71,71,72,73,74,74,75,76,77,77,78,79,80,80,81,82,83,83,84,85,86,86,87,88,89,89,90,91,92,92,93,94,95,95,96,97,98,98,99,100,101,101,102,103,104,104,105,106,107,107,108,109,110,110,111,112,113,113,114,115,116,116,117,118,119,119,120,121,122,122,123,124,125,125,126,127,128,128,129,130,131,131,132,133,134,134,135,136,137,137,138,139,140,140,141,142,143,143,144,145,146,146,147,148,149,149,150,151,152,152,153,154,155,155,156,157,158,158,159,160,161,161,162,163,164},
//        {23,24,25,26,26,27,28,29,29,30,31,32,32,33,34,35,35,36,37,38,38,39,40,41,41,42,43,44,44,45,46,47,47,48,49,50,50,51,52,53,53,54,55,56,56,57,58,59,59,60,61,62,62,63,64,65,65,66,67,68,68,69,70,71,71,72,73,74,74,75,76,77,77,78,79,80,80,81,82,83,83,84,85,86,86,87,88,89,89,90,91,92,92,93,94,95,95,96,97,98,98,99,100,101,101,102,103,104,104,105,106,107,107,108,109,110,110,111,112,113,113,114,115,116,116,117,118,119,119,120,121,122,122,123,124,125,125,126,127,128,128,129,130,131,131,132,133,134,134,135,136,137,137,138,139,140,140,141,142,143,143,144,145,146,146,147,148,149,149,150,151,152,152,153,154,155,155,156,157,158,158,159,160,161,161,162,163,164},{21,21,22,23,24,25,25,26,27,28,28,29,30,31,32,32,33,34,35,35,36,37,38,39,39,40,41,42,42,43,44,45,46,46,47,48,49,49,50,51,52,53,53,54,55,56,56,57,58,59,60,60,61,62,63,63,64,65,66,67,67,68,69,70,71,71,72,73,74,74,75,76,77,78,78,79,80,81,81,82,83,84,85,85,86,87,88,88,89,90,91,92,92,93,94,95,95,96,97,98,99,99,100,101,102,102,103,104,105,106,106,107,108,109,109,110,111,112,113,113,114,115,116,116,117,118,119,120,120,121,122,123,124,124,125,126,127,127,128,129,130,131,131,132,133,134,134,135,136,137,138,138,139,140,141,141,142,143,144,145,145,146,147,148,148,149,150,151,152,152,153,154,155,155,156,157,158,159,159,160,161,162,162,163,164,165,166,166},
//        {21,21,22,23,24,25,25,26,27,28,28,29,30,31,32,32,33,34,35,35,36,37,38,39,39,40,41,42,42,43,44,45,46,46,47,48,49,49,50,51,52,53,53,54,55,56,56,57,58,59,60,60,61,62,63,63,64,65,66,67,67,68,69,70,71,71,72,73,74,74,75,76,77,78,78,79,80,81,81,82,83,84,85,85,86,87,88,88,89,90,91,92,92,93,94,95,95,96,97,98,99,99,100,101,102,102,103,104,105,106,106,107,108,109,109,110,111,112,113,113,114,115,116,116,117,118,119,120,120,121,122,123,124,124,125,126,127,127,128,129,130,131,131,132,133,134,134,135,136,137,138,138,139,140,141,141,142,143,144,145,145,146,147,148,148,149,150,151,152,152,153,154,155,155,156,157,158,159,159,160,161,162,162,163,164,165,166,166},{21,21,22,23,24,25,25,26,27,28,28,29,30,31,32,32,33,34,35,35,36,37,38,39,39,40,41,42,42,43,44,45,46,46,47,48,49,49,50,51,52,53,53,54,55,56,56,57,58,59,60,60,61,62,63,63,64,65,66,67,67,68,69,70,71,71,72,73,74,74,75,76,77,78,78,79,80,81,81,82,83,84,85,85,86,87,88,88,89,90,91,92,92,93,94,95,95,96,97,98,99,99,100,101,102,102,103,104,105,106,106,107,108,109,109,110,111,112,113,113,114,115,116,116,117,118,119,120,120,121,122,123,124,124,125,126,127,127,128,129,130,131,131,132,133,134,134,135,136,137,138,138,139,140,141,141,142,143,144,145,145,146,147,148,148,149,150,151,152,152,153,154,155,155,156,157,158,159,159,160,161,162,162,163,164,165,166,166},
//        {21,21,22,23,24,25,25,26,27,28,28,29,30,31,32,32,33,34,35,35,36,37,38,39,39,40,41,42,42,43,44,45,46,46,47,48,49,49,50,51,52,53,53,54,55,56,56,57,58,59,60,60,61,62,63,63,64,65,66,67,67,68,69,70,71,71,72,73,74,74,75,76,77,78,78,79,80,81,81,82,83,84,85,85,86,87,88,88,89,90,91,92,92,93,94,95,95,96,97,98,99,99,100,101,102,102,103,104,105,106,106,107,108,109,109,110,111,112,113,113,114,115,116,116,117,118,119,120,120,121,122,123,124,124,125,126,127,127,128,129,130,131,131,132,133,134,134,135,136,137,138,138,139,140,141,141,142,143,144,145,145,146,147,148,148,149,150,151,152,152,153,154,155,155,156,157,158,159,159,160,161,162,162,163,164,165,166,166},{21,21,22,23,24,25,25,26,27,28,28,29,30,31,32,32,33,34,35,35,36,37,38,39,39,40,41,42,42,43,44,45,46,46,47,48,49,49,50,51,52,53,53,54,55,56,56,57,58,59,60,60,61,62,63,63,64,65,66,67,67,68,69,70,71,71,72,73,74,74,75,76,77,78,78,79,80,81,81,82,83,84,85,85,86,87,88,88,89,90,91,92,92,93,94,95,95,96,97,98,99,99,100,101,102,102,103,104,105,106,106,107,108,109,109,110,111,112,113,113,114,115,116,116,117,118,119,120,120,121,122,123,124,124,125,126,127,127,128,129,130,131,131,132,133,134,134,135,136,137,138,138,139,140,141,141,142,143,144,145,145,146,147,148,148,149,150,151,152,152,153,154,155,155,156,157,158,159,159,160,161,162,162,163,164,165,166,166},{21,21,22,23,24,25,25,26,27,28,28,29,30,31,32,32,33,34,35,35,36,37,38,39,39,40,41,42,42,43,44,45,46,46,47,48,49,49,50,51,52,53,53,54,55,56,56,57,58,59,60,60,61,62,63,63,64,65,66,67,67,68,69,70,71,71,72,73,74,74,75,76,77,78,78,79,80,81,81,82,83,84,85,85,86,87,88,88,89,90,91,92,92,93,94,95,95,96,97,98,99,99,100,101,102,102,103,104,105,106,106,107,108,109,109,110,111,112,113,113,114,115,116,116,117,118,119,120,120,121,122,123,124,124,125,126,127,127,128,129,130,131,131,132,133,134,134,135,136,137,138,138,139,140,141,141,142,143,144,145,145,146,147,148,148,149,150,151,152,152,153,154,155,155,156,157,158,159,159,160,161,162,162,163,164,165,166,166},{18,19,20,20,21,22,23,24,24,25,26,27,28,28,29,30,31,32,32,33,34,35,36,36,37,38,39,40,41,41,42,43,44,45,45,46,47,48,49,49,50,51,52,53,53,54,55,56,57,58,58,59,60,61,62,62,63,64,65,66,66,67,68,69,70,70,71,72,73,74,74,75,76,77,78,79,79,80,81,82,83,83,84,85,86,87,87,88,89,90,91,91,92,93,94,95,96,96,97,98,99,100,100,101,102,103,104,104,105,106,107,108,108,109,110,111,112,113,113,114,115,116,117,117,118,119,120,121,121,122,123,124,125,125,126,127,128,129,129,130,131,132,133,134,134,135,136,137,138,138,139,140,141,142,142,143,144,145,146,146,147,148,149,150,151,151,152,153,154,155,155,156,157,158,159,159,160,161,162,163,163,164,165,166,167,167,168,169},{18,19,20,20,21,22,23,24,24,25,26,27,28,28,29,30,31,32,32,33,34,35,36,36,37,38,39,40,41,41,42,43,44,45,45,46,47,48,49,49,50,51,52,53,53,54,55,56,57,58,58,59,60,61,62,62,63,64,65,66,66,67,68,69,70,70,71,72,73,74,74,75,76,77,78,79,79,80,81,82,83,83,84,85,86,87,87,88,89,90,91,91,92,93,94,95,96,96,97,98,99,100,100,101,102,103,104,104,105,106,107,108,108,109,110,111,112,113,113,114,115,116,117,117,118,119,120,121,121,122,123,124,125,125,126,127,128,129,129,130,131,132,133,134,134,135,136,137,138,138,139,140,141,142,142,143,144,145,146,146,147,148,149,150,151,151,152,153,154,155,155,156,157,158,159,159,160,161,162,163,163,164,165,166,167,167,168,169},{18,19,20,20,21,22,23,24,24,25,26,27,28,28,29,30,31,32,32,33,34,35,36,36,37,38,39,40,41,41,42,43,44,45,45,46,47,48,49,49,50,51,52,53,53,54,55,56,57,58,58,59,60,61,62,62,63,64,65,66,66,67,68,69,70,70,71,72,73,74,74,75,76,77,78,79,79,80,81,82,83,83,84,85,86,87,87,88,89,90,91,91,92,93,94,95,96,96,97,98,99,100,100,101,102,103,104,104,105,106,107,108,108,109,110,111,112,113,113,114,115,116,117,117,118,119,120,121,121,122,123,124,125,125,126,127,128,129,129,130,131,132,133,134,134,135,136,137,138,138,139,140,141,142,142,143,144,145,146,146,147,148,149,150,151,151,152,153,154,155,155,156,157,158,159,159,160,161,162,163,163,164,165,166,167,167,168,169},
//        {18,19,20,20,21,22,23,24,24,25,26,27,28,28,29,30,31,32,32,33,34,35,36,36,37,38,39,40,41,41,42,43,44,45,45,46,47,48,49,49,50,51,52,53,53,54,55,56,57,58,58,59,60,61,62,62,63,64,65,66,66,67,68,69,70,70,71,72,73,74,74,75,76,77,78,79,79,80,81,82,83,83,84,85,86,87,87,88,89,90,91,91,92,93,94,95,96,96,97,98,99,100,100,101,102,103,104,104,105,106,107,108,108,109,110,111,112,113,113,114,115,116,117,117,118,119,120,121,121,122,123,124,125,125,126,127,128,129,129,130,131,132,133,134,134,135,136,137,138,138,139,140,141,142,142,143,144,145,146,146,147,148,149,150,151,151,152,153,154,155,155,156,157,158,159,159,160,161,162,163,163,164,165,166,167,167,168,169},{15,16,17,18,19,19,20,21,22,23,24,24,25,26,27,28,29,29,30,31,32,33,34,34,35,36,37,38,39,39,40,41,42,43,44,44,45,46,47,48,49,50,50,51,52,53,54,55,55,56,57,58,59,60,60,61,62,63,64,65,65,66,67,68,69,70,70,71,72,73,74,75,75,76,77,78,79,80,81,81,82,83,84,85,86,86,87,88,89,90,91,91,92,93,94,95,96,96,97,98,99,100,101,101,102,103,104,105,106,106,107,108,109,110,111,112,112,113,114,115,116,117,117,118,119,120,121,122,122,123,124,125,126,127,127,128,129,130,131,132,132,133,134,135,136,137,137,138,139,140,141,142,143,143,144,145,146,147,148,148,149,150,151,152,153,153,154,155,156,157,158,158,159,160,161,162,163,163,164,165,166,167,168,168,169,170,171,172},{15,16,17,18,19,19,20,21,22,23,24,24,25,26,27,28,29,29,30,31,32,33,34,34,35,36,37,38,39,39,40,41,42,43,44,44,45,46,47,48,49,50,50,51,52,53,54,55,55,56,57,58,59,60,60,61,62,63,64,65,65,66,67,68,69,70,70,71,72,73,74,75,75,76,77,78,79,80,81,81,82,83,84,85,86,86,87,88,89,90,91,91,92,93,94,95,96,96,97,98,99,100,101,101,102,103,104,105,106,106,107,108,109,110,111,112,112,113,114,115,116,117,117,118,119,120,121,122,122,123,124,125,126,127,127,128,129,130,131,132,132,133,134,135,136,137,137,138,139,140,141,142,143,143,144,145,146,147,148,148,149,150,151,152,153,153,154,155,156,157,158,158,159,160,161,162,163,163,164,165,166,167,168,168,169,170,171,172},{15,16,17,18,19,19,20,21,22,23,24,24,25,26,27,28,29,29,30,31,32,33,34,34,35,36,37,38,39,39,40,41,42,43,44,44,45,46,47,48,49,50,50,51,52,53,54,55,55,56,57,58,59,60,60,61,62,63,64,65,65,66,67,68,69,70,70,71,72,73,74,75,75,76,77,78,79,80,81,81,82,83,84,85,86,86,87,88,89,90,91,91,92,93,94,95,96,96,97,98,99,100,101,101,102,103,104,105,106,106,107,108,109,110,111,112,112,113,114,115,116,117,117,118,119,120,121,122,122,123,124,125,126,127,127,128,129,130,131,132,132,133,134,135,136,137,137,138,139,140,141,142,143,143,144,145,146,147,148,148,149,150,151,152,153,153,154,155,156,157,158,158,159,160,161,162,163,163,164,165,166,167,168,168,169,170,171,172},{15,16,17,18,19,19,20,21,22,23,24,24,25,26,27,28,29,29,30,31,32,33,34,34,35,36,37,38,39,39,40,41,42,43,44,44,45,46,47,48,49,50,50,51,52,53,54,55,55,56,57,58,59,60,60,61,62,63,64,65,65,66,67,68,69,70,70,71,72,73,74,75,75,76,77,78,79,80,81,81,82,83,84,85,86,86,87,88,89,90,91,91,92,93,94,95,96,96,97,98,99,100,101,101,102,103,104,105,106,106,107,108,109,110,111,112,112,113,114,115,116,117,117,118,119,120,121,122,122,123,124,125,126,127,127,128,129,130,131,132,132,133,134,135,136,137,137,138,139,140,141,142,143,143,144,145,146,147,148,148,149,150,151,152,153,153,154,155,156,157,158,158,159,160,161,162,163,163,164,165,166,167,168,168,169,170,171,172},
//        {15,16,17,18,19,19,20,21,22,23,24,24,25,26,27,28,29,29,30,31,32,33,34,34,35,36,37,38,39,39,40,41,42,43,44,44,45,46,47,48,49,50,50,51,52,53,54,55,55,56,57,58,59,60,60,61,62,63,64,65,65,66,67,68,69,70,70,71,72,73,74,75,75,76,77,78,79,80,81,81,82,83,84,85,86,86,87,88,89,90,91,91,92,93,94,95,96,96,97,98,99,100,101,101,102,103,104,105,106,106,107,108,109,110,111,112,112,113,114,115,116,117,117,118,119,120,121,122,122,123,124,125,126,127,127,128,129,130,131,132,132,133,134,135,136,137,137,138,139,140,141,142,143,143,144,145,146,147,148,148,149,150,151,152,153,153,154,155,156,157,158,158,159,160,161,162,163,163,164,165,166,167,168,168,169,170,171,172},{12,13,14,15,16,17,18,19,19,20,21,22,23,24,25,25,26,27,28,29,30,31,32,32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,45,46,47,48,49,50,51,51,52,53,54,55,56,57,58,58,59,60,61,62,63,64,64,65,66,67,68,69,70,71,71,72,73,74,75,76,77,77,78,79,80,81,82,83,84,84,85,86,87,88,89,90,90,91,92,93,94,95,96,97,97,98,99,100,101,102,103,103,104,105,106,107,108,109,110,110,111,112,113,114,115,116,116,117,118,119,120,121,122,123,123,124,125,126,127,128,129,129,130,131,132,133,134,135,136,136,137,138,139,140,141,142,142,143,144,145,146,147,148,149,149,150,151,152,153,154,155,155,156,157,158,159,160,161,162,162,163,164,165,166,167,168,168,169,170,171,172,173,174,175},{12,13,14,15,16,17,18,19,19,20,21,22,23,24,25,25,26,27,28,29,30,31,32,32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,45,46,47,48,49,50,51,51,52,53,54,55,56,57,58,58,59,60,61,62,63,64,64,65,66,67,68,69,70,71,71,72,73,74,75,76,77,77,78,79,80,81,82,83,84,84,85,86,87,88,89,90,90,91,92,93,94,95,96,97,97,98,99,100,101,102,103,103,104,105,106,107,108,109,110,110,111,112,113,114,115,116,116,117,118,119,120,121,122,123,123,124,125,126,127,128,129,129,130,131,132,133,134,135,136,136,137,138,139,140,141,142,142,143,144,145,146,147,148,149,149,150,151,152,153,154,155,155,156,157,158,159,160,161,162,162,163,164,165,166,167,168,168,169,170,171,172,173,174,175},{12,13,14,15,16,17,18,19,19,20,21,22,23,24,25,25,26,27,28,29,30,31,32,32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,45,46,47,48,49,50,51,51,52,53,54,55,56,57,58,58,59,60,61,62,63,64,64,65,66,67,68,69,70,71,71,72,73,74,75,76,77,77,78,79,80,81,82,83,84,84,85,86,87,88,89,90,90,91,92,93,94,95,96,97,97,98,99,100,101,102,103,103,104,105,106,107,108,109,110,110,111,112,113,114,115,116,116,117,118,119,120,121,122,123,123,124,125,126,127,128,129,129,130,131,132,133,134,135,136,136,137,138,139,140,141,142,142,143,144,145,146,147,148,149,149,150,151,152,153,154,155,155,156,157,158,159,160,161,162,162,163,164,165,166,167,168,168,169,170,171,172,173,174,175},{12,13,14,15,16,17,18,19,19,20,21,22,23,24,25,25,26,27,28,29,30,31,32,32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,45,46,47,48,49,50,51,51,52,53,54,55,56,57,58,58,59,60,61,62,63,64,64,65,66,67,68,69,70,71,71,72,73,74,75,76,77,77,78,79,80,81,82,83,84,84,85,86,87,88,89,90,90,91,92,93,94,95,96,97,97,98,99,100,101,102,103,103,104,105,106,107,108,109,110,110,111,112,113,114,115,116,116,117,118,119,120,121,122,123,123,124,125,126,127,128,129,129,130,131,132,133,134,135,136,136,137,138,139,140,141,142,142,143,144,145,146,147,148,149,149,150,151,152,153,154,155,155,156,157,158,159,160,161,162,162,163,164,165,166,167,168,168,169,170,171,172,173,174,175},{10,11,12,12,13,14,15,16,17,18,19,20,20,21,22,23,24,25,26,27,28,29,29,30,31,32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,55,56,57,58,59,60,61,62,63,63,64,65,66,67,68,69,70,71,72,72,73,74,75,76,77,78,79,80,81,81,82,83,84,85,86,87,88,89,89,90,91,92,93,94,95,96,97,98,98,99,100,101,102,103,104,105,106,106,107,108,109,110,111,112,113,114,115,115,116,117,118,119,120,121,122,123,124,124,125,126,127,128,129,130,131,132,132,133,134,135,136,137,138,139,140,141,141,142,143,144,145,146,147,148,149,149,150,151,152,153,154,155,156,157,158,158,159,160,161,162,163,164,165,166,167,167,168,169,170,171,172,173,174,175,175,176,177},{10,11,12,12,13,14,15,16,17,18,19,20,20,21,22,23,24,25,26,27,28,29,29,30,31,32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,55,56,57,58,59,60,61,62,63,63,64,65,66,67,68,69,70,71,72,72,73,74,75,76,77,78,79,80,81,81,82,83,84,85,86,87,88,89,89,90,91,92,93,94,95,96,97,98,98,99,100,101,102,103,104,105,106,106,107,108,109,110,111,112,113,114,115,115,116,117,118,119,120,121,122,123,124,124,125,126,127,128,129,130,131,132,132,133,134,135,136,137,138,139,140,141,141,142,143,144,145,146,147,148,149,149,150,151,152,153,154,155,156,157,158,158,159,160,161,162,163,164,165,166,167,167,168,169,170,171,172,173,174,175,175,176,177},
//        {10,11,12,12,13,14,15,16,17,18,19,20,20,21,22,23,24,25,26,27,28,29,29,30,31,32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,55,56,57,58,59,60,61,62,63,63,64,65,66,67,68,69,70,71,72,72,73,74,75,76,77,78,79,80,81,81,82,83,84,85,86,87,88,89,89,90,91,92,93,94,95,96,97,98,98,99,100,101,102,103,104,105,106,106,107,108,109,110,111,112,113,114,115,115,116,117,118,119,120,121,122,123,124,124,125,126,127,128,129,130,131,132,132,133,134,135,136,137,138,139,140,141,141,142,143,144,145,146,147,148,149,149,150,151,152,153,154,155,156,157,158,158,159,160,161,162,163,164,165,166,167,167,168,169,170,171,172,173,174,175,175,176,177},{10,11,12,12,13,14,15,16,17,18,19,20,20,21,22,23,24,25,26,27,28,29,29,30,31,32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,55,56,57,58,59,60,61,62,63,63,64,65,66,67,68,69,70,71,72,72,73,74,75,76,77,78,79,80,81,81,82,83,84,85,86,87,88,89,89,90,91,92,93,94,95,96,97,98,98,99,100,101,102,103,104,105,106,106,107,108,109,110,111,112,113,114,115,115,116,117,118,119,120,121,122,123,124,124,125,126,127,128,129,130,131,132,132,133,134,135,136,137,138,139,140,141,141,142,143,144,145,146,147,148,149,149,150,151,152,153,154,155,156,157,158,158,159,160,161,162,163,164,165,166,167,167,168,169,170,171,172,173,174,175,175,176,177},{7,8,9,10,11,12,13,14,14,15,16,17,18,19,20,21,22,23,24,25,26,26,27,28,29,30,31,32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,46,47,48,49,50,50,51,52,53,54,55,56,57,58,59,60,61,62,63,63,64,65,66,67,68,69,70,71,72,73,74,75,75,76,77,78,79,80,81,82,83,84,85,86,87,87,88,89,90,91,92,93,94,95,96,97,98,99,100,100,101,102,103,104,105,106,107,108,109,110,111,112,112,113,114,115,116,117,118,119,120,121,122,123,124,124,125,126,127,128,129,130,131,132,133,134,135,136,137,137,138,139,140,141,142,143,144,145,146,147,148,149,149,150,151,152,153,154,155,156,157,158,159,160,161,161,162,163,164,165,166,167,168,169,170,171,172,173,173,174,175,176,177,178,179,180},{7,8,9,10,11,12,13,14,14,15,16,17,18,19,20,21,22,23,24,25,26,26,27,28,29,30,31,32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,46,47,48,49,50,50,51,52,53,54,55,56,57,58,59,60,61,62,63,63,64,65,66,67,68,69,70,71,72,73,74,75,75,76,77,78,79,80,81,82,83,84,85,86,87,87,88,89,90,91,92,93,94,95,96,97,98,99,100,100,101,102,103,104,105,106,107,108,109,110,111,112,112,113,114,115,116,117,118,119,120,121,122,123,124,124,125,126,127,128,129,130,131,132,133,134,135,136,137,137,138,139,140,141,142,143,144,145,146,147,148,149,149,150,151,152,153,154,155,156,157,158,159,160,161,161,162,163,164,165,166,167,168,169,170,171,172,173,173,174,175,176,177,178,179,180},{7,8,9,10,11,12,13,14,14,15,16,17,18,19,20,21,22,23,24,25,26,26,27,28,29,30,31,32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,46,47,48,49,50,50,51,52,53,54,55,56,57,58,59,60,61,62,63,63,64,65,66,67,68,69,70,71,72,73,74,75,75,76,77,78,79,80,81,82,83,84,85,86,87,87,88,89,90,91,92,93,94,95,96,97,98,99,100,100,101,102,103,104,105,106,107,108,109,110,111,112,112,113,114,115,116,117,118,119,120,121,122,123,124,124,125,126,127,128,129,130,131,132,133,134,135,136,137,137,138,139,140,141,142,143,144,145,146,147,148,149,149,150,151,152,153,154,155,156,157,158,159,160,161,161,162,163,164,165,166,167,168,169,170,171,172,173,173,174,175,176,177,178,179,180},
//        {7,8,9,10,11,12,13,14,14,15,16,17,18,19,20,21,22,23,24,25,26,26,27,28,29,30,31,32,33,34,35,36,37,38,38,39,40,41,42,43,44,45,46,47,48,49,50,50,51,52,53,54,55,56,57,58,59,60,61,62,63,63,64,65,66,67,68,69,70,71,72,73,74,75,75,76,77,78,79,80,81,82,83,84,85,86,87,87,88,89,90,91,92,93,94,95,96,97,98,99,100,100,101,102,103,104,105,106,107,108,109,110,111,112,112,113,114,115,116,117,118,119,120,121,122,123,124,124,125,126,127,128,129,130,131,132,133,134,135,136,137,137,138,139,140,141,142,143,144,145,146,147,148,149,149,150,151,152,153,154,155,156,157,158,159,160,161,161,162,163,164,165,166,167,168,169,170,171,172,173,173,174,175,176,177,178,179,180},{4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183},{4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183},{4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183},{4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183},
//        {2,3,4,5,6,7,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,180,181,182,183,184,185},{2,3,4,5,6,7,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,180,181,182,183,184,185},{2,3,4,5,6,7,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,180,181,182,183,184,185},{255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,255},{255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,255},{255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,255},{255,255,255,0,0,1,2,3,4,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,183,184,185,186,187,187,255,255,255},{255,255,255,0,0,1,2,3,4,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,183,184,185,186,187,187,255,255,255},
//        {255,255,255,0,0,1,2,3,4,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,183,184,185,186,187,187,255,255,255},{255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,41,42,43,44,45,46,47,48,49,50,51,52,53,54,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,72,73,74,75,76,77,78,79,80,81,82,83,84,85,87,88,89,90,91,92,93,94,95,96,97,98,99,100,102,103,104,105,106,107,108,109,110,111,112,113,114,115,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,133,134,135,136,137,138,139,140,141,142,143,144,145,146,148,149,150,151,152,153,154,155,156,157,158,159,160,161,163,164,165,166,167,168,169,170,171,172,173,174,175,176,178,179,180,181,182,183,184,185,186,187,255,255,255,255,255,255},{255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,41,42,43,44,45,46,47,48,49,50,51,52,53,54,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,72,73,74,75,76,77,78,79,80,81,82,83,84,85,87,88,89,90,91,92,93,94,95,96,97,98,99,100,102,103,104,105,106,107,108,109,110,111,112,113,114,115,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,133,134,135,136,137,138,139,140,141,142,143,144,145,146,148,149,150,151,152,153,154,155,156,157,158,159,160,161,163,164,165,166,167,168,169,170,171,172,173,174,175,176,178,179,180,181,182,183,184,185,186,187,255,255,255,255,255,255},{255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,41,42,43,44,45,46,47,48,49,50,51,52,53,54,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,72,73,74,75,76,77,78,79,80,81,82,83,84,85,87,88,89,90,91,92,93,94,95,96,97,98,99,100,102,103,104,105,106,107,108,109,110,111,112,113,114,115,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,133,134,135,136,137,138,139,140,141,142,143,144,145,146,148,149,150,151,152,153,154,155,156,157,158,159,160,161,163,164,165,166,167,168,169,170,171,172,173,174,175,176,178,179,180,181,182,183,184,185,186,187,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20,22,23,24,25,26,27,28,29,30,31,32,34,35,36,37,38,39,40,41,42,43,45,46,47,48,49,50,51,52,53,54,56,57,58,59,60,61,62,63,64,65,67,68,69,70,71,72,73,74,75,76,78,79,80,81,82,83,84,85,86,87,89,90,91,92,93,94,95,96,97,98,100,101,102,103,104,105,106,107,108,109,111,112,113,114,115,116,117,118,119,120,122,123,124,125,126,127,128,129,130,131,133,134,135,136,137,138,139,140,141,142,144,145,146,147,148,149,150,151,152,153,155,156,157,158,159,160,161,162,163,164,165,167,168,169,170,171,172,173,174,175,176,178,179,180,181,182,183,184,185,186,187,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,19,20,22,23,24,25,26,27,28,29,30,31,32,34,35,36,37,38,39,40,41,42,43,45,46,47,48,49,50,51,52,53,54,56,57,58,59,60,61,62,63,64,65,67,68,69,70,71,72,73,74,75,76,78,79,80,81,82,83,84,85,86,87,89,90,91,92,93,94,95,96,97,98,100,101,102,103,104,105,106,107,108,109,111,112,113,114,115,116,117,118,119,120,122,123,124,125,126,127,128,129,130,131,133,134,135,136,137,138,139,140,141,142,144,145,146,147,148,149,150,151,152,153,155,156,157,158,159,160,161,162,163,164,165,167,168,169,170,171,172,173,174,175,176,178,179,180,181,182,183,184,185,186,187,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,37,38,39,40,41,42,43,44,46,47,48,49,50,51,52,53,55,56,57,58,59,60,61,62,64,65,66,67,68,69,70,72,73,74,75,76,77,78,79,81,82,83,84,85,86,87,88,90,91,92,93,94,95,96,97,99,100,101,102,103,104,105,106,108,109,110,111,112,113,114,115,117,118,119,120,121,122,123,125,126,127,128,129,130,131,132,134,135,136,137,138,139,140,141,143,144,145,146,147,148,149,150,152,153,154,155,156,157,158,159,161,162,163,164,165,166,167,169,170,171,172,173,174,175,176,178,179,180,181,182,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,37,38,39,40,41,42,43,44,46,47,48,49,50,51,52,53,55,56,57,58,59,60,61,62,64,65,66,67,68,69,70,72,73,74,75,76,77,78,79,81,82,83,84,85,86,87,88,90,91,92,93,94,95,96,97,99,100,101,102,103,104,105,106,108,109,110,111,112,113,114,115,117,118,119,120,121,122,123,125,126,127,128,129,130,131,132,134,135,136,137,138,139,140,141,143,144,145,146,147,148,149,150,152,153,154,155,156,157,158,159,161,162,163,164,165,166,167,169,170,171,172,173,174,175,176,178,179,180,181,182,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255},
//        {255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,5,6,7,8,9,11,12,13,14,15,16,17,18,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,37,38,39,40,41,42,43,44,46,47,48,49,50,51,52,53,55,56,57,58,59,60,61,62,64,65,66,67,68,69,70,72,73,74,75,76,77,78,79,81,82,83,84,85,86,87,88,90,91,92,93,94,95,96,97,99,100,101,102,103,104,105,106,108,109,110,111,112,113,114,115,117,118,119,120,121,122,123,125,126,127,128,129,130,131,132,134,135,136,137,138,139,140,141,143,144,145,146,147,148,149,150,152,153,154,155,156,157,158,159,161,162,163,164,165,166,167,169,170,171,172,173,174,175,176,178,179,180,181,182,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,0,0,1,3,4,5,6,7,8,10,11,12,13,14,15,17,18,19,20,21,22,23,25,26,27,28,29,30,32,33,34,35,36,37,39,40,41,42,43,44,45,47,48,49,50,51,52,54,55,56,57,58,59,61,62,63,64,65,66,67,69,70,71,72,73,74,76,77,78,79,80,81,83,84,85,86,87,88,89,91,92,93,94,95,96,98,99,100,101,102,103,104,106,107,108,109,110,111,113,114,115,116,117,118,120,121,122,123,124,125,126,128,129,130,131,132,133,135,136,137,138,139,140,142,143,144,145,146,147,148,150,151,152,153,154,155,157,158,159,160,161,162,164,165,166,167,168,169,170,172,173,174,175,176,177,179,180,181,182,183,184,186,187,187,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,0,0,1,3,4,5,6,7,8,10,11,12,13,14,15,17,18,19,20,21,22,23,25,26,27,28,29,30,32,33,34,35,36,37,39,40,41,42,43,44,45,47,48,49,50,51,52,54,55,56,57,58,59,61,62,63,64,65,66,67,69,70,71,72,73,74,76,77,78,79,80,81,83,84,85,86,87,88,89,91,92,93,94,95,96,98,99,100,101,102,103,104,106,107,108,109,110,111,113,114,115,116,117,118,120,121,122,123,124,125,126,128,129,130,131,132,133,135,136,137,138,139,140,142,143,144,145,146,147,148,150,151,152,153,154,155,157,158,159,160,161,162,164,165,166,167,168,169,170,172,173,174,175,176,177,179,180,181,182,183,184,186,187,187,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,5,6,7,9,10,11,12,13,15,16,17,18,19,21,22,23,24,25,26,28,29,30,31,32,34,35,36,37,38,40,41,42,43,44,45,47,48,49,50,51,53,54,55,56,57,59,60,61,62,63,64,66,67,68,69,70,72,73,74,75,76,77,79,80,81,82,83,85,86,87,88,89,91,92,93,94,95,96,98,99,100,101,102,104,105,106,107,108,110,111,112,113,114,115,117,118,119,120,121,123,124,125,126,127,128,130,131,132,133,134,136,137,138,139,140,142,143,144,145,146,147,149,150,151,152,153,155,156,157,158,159,161,162,163,164,165,166,168,169,170,171,172,174,175,176,177,178,180,181,182,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,5,6,7,9,10,11,12,13,15,16,17,18,19,21,22,23,24,25,26,28,29,30,31,32,34,35,36,37,38,40,41,42,43,44,45,47,48,49,50,51,53,54,55,56,57,59,60,61,62,63,64,66,67,68,69,70,72,73,74,75,76,77,79,80,81,82,83,85,86,87,88,89,91,92,93,94,95,96,98,99,100,101,102,104,105,106,107,108,110,111,112,113,114,115,117,118,119,120,121,123,124,125,126,127,128,130,131,132,133,134,136,137,138,139,140,142,143,144,145,146,147,149,150,151,152,153,155,156,157,158,159,161,162,163,164,165,166,168,169,170,171,172,174,175,176,177,178,180,181,182,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,5,6,7,9,10,11,12,13,15,16,17,18,19,21,22,23,24,25,26,28,29,30,31,32,34,35,36,37,38,40,41,42,43,44,45,47,48,49,50,51,53,54,55,56,57,59,60,61,62,63,64,66,67,68,69,70,72,73,74,75,76,77,79,80,81,82,83,85,86,87,88,89,91,92,93,94,95,96,98,99,100,101,102,104,105,106,107,108,110,111,112,113,114,115,117,118,119,120,121,123,124,125,126,127,128,130,131,132,133,134,136,137,138,139,140,142,143,144,145,146,147,149,150,151,152,153,155,156,157,158,159,161,162,163,164,165,166,168,169,170,171,172,174,175,176,177,178,180,181,182,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255},
//        {255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,7,8,9,10,11,13,14,15,16,18,19,20,21,22,24,25,26,27,28,30,31,32,33,35,36,37,38,39,41,42,43,44,45,47,48,49,50,52,53,54,55,56,58,59,60,61,63,64,65,66,67,69,70,71,72,73,75,76,77,78,80,81,82,83,84,86,87,88,89,90,92,93,94,95,97,98,99,100,101,103,104,105,106,107,109,110,111,112,114,115,116,117,118,120,121,122,123,124,126,127,128,129,131,132,133,134,135,137,138,139,140,142,143,144,145,146,148,149,150,151,152,154,155,156,157,159,160,161,162,163,165,166,167,168,169,171,172,173,174,176,177,178,179,180,182,183,184,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,7,8,9,10,11,13,14,15,16,18,19,20,21,22,24,25,26,27,28,30,31,32,33,35,36,37,38,39,41,42,43,44,45,47,48,49,50,52,53,54,55,56,58,59,60,61,63,64,65,66,67,69,70,71,72,73,75,76,77,78,80,81,82,83,84,86,87,88,89,90,92,93,94,95,97,98,99,100,101,103,104,105,106,107,109,110,111,112,114,115,116,117,118,120,121,122,123,124,126,127,128,129,131,132,133,134,135,137,138,139,140,142,143,144,145,146,148,149,150,151,152,154,155,156,157,159,160,161,162,163,165,166,167,168,169,171,172,173,174,176,177,178,179,180,182,183,184,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,5,6,7,8,10,11,12,13,14,16,17,18,19,21,22,23,24,26,27,28,29,31,32,33,34,36,37,38,39,41,42,43,44,46,47,48,49,51,52,53,54,56,57,58,59,61,62,63,64,66,67,68,69,70,72,73,74,75,77,78,79,80,82,83,84,85,87,88,89,90,92,93,94,95,97,98,99,100,102,103,104,105,107,108,109,110,112,113,114,115,117,118,119,120,121,123,124,125,126,128,129,130,131,133,134,135,136,138,139,140,141,143,144,145,146,148,149,150,151,153,154,155,156,158,159,160,161,163,164,165,166,168,169,170,171,173,174,175,176,177,179,180,181,182,184,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,5,6,7,8,10,11,12,13,14,16,17,18,19,21,22,23,24,26,27,28,29,31,32,33,34,36,37,38,39,41,42,43,44,46,47,48,49,51,52,53,54,56,57,58,59,61,62,63,64,66,67,68,69,70,72,73,74,75,77,78,79,80,82,83,84,85,87,88,89,90,92,93,94,95,97,98,99,100,102,103,104,105,107,108,109,110,112,113,114,115,117,118,119,120,121,123,124,125,126,128,129,130,131,133,134,135,136,138,139,140,141,143,144,145,146,148,149,150,151,153,154,155,156,158,159,160,161,163,164,165,166,168,169,170,171,173,174,175,176,177,179,180,181,182,184,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,5,6,8,9,10,11,13,14,15,16,18,19,20,22,23,24,25,27,28,29,30,32,33,34,36,37,38,39,41,42,43,44,46,47,48,50,51,52,53,55,56,57,58,60,61,62,64,65,66,67,69,70,71,72,74,75,76,78,79,80,81,83,84,85,86,88,89,90,92,93,94,95,97,98,99,101,102,103,104,106,107,108,109,111,112,113,115,116,117,118,120,121,122,123,125,126,127,129,130,131,132,134,135,136,137,139,140,141,143,144,145,146,148,149,150,151,153,154,155,157,158,159,160,162,163,164,165,167,168,169,171,172,173,174,176,177,178,179,181,182,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,5,6,8,9,10,11,13,14,15,16,18,19,20,22,23,24,25,27,28,29,30,32,33,34,36,37,38,39,41,42,43,44,46,47,48,50,51,52,53,55,56,57,58,60,61,62,64,65,66,67,69,70,71,72,74,75,76,78,79,80,81,83,84,85,86,88,89,90,92,93,94,95,97,98,99,101,102,103,104,106,107,108,109,111,112,113,115,116,117,118,120,121,122,123,125,126,127,129,130,131,132,134,135,136,137,139,140,141,143,144,145,146,148,149,150,151,153,154,155,157,158,159,160,162,163,164,165,167,168,169,171,172,173,174,176,177,178,179,181,182,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,6,7,8,9,11,12,13,15,16,17,19,20,21,23,24,25,26,28,29,30,32,33,34,36,37,38,39,41,42,43,45,46,47,49,50,51,52,54,55,56,58,59,60,62,63,64,65,67,68,69,71,72,73,75,76,77,79,80,81,82,84,85,86,88,89,90,92,93,94,95,97,98,99,101,102,103,105,106,107,108,110,111,112,114,115,116,118,119,120,122,123,124,125,127,128,129,131,132,133,135,136,137,138,140,141,142,144,145,146,148,149,150,151,153,154,155,157,158,159,161,162,163,164,166,167,168,170,171,172,174,175,176,178,179,180,181,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,6,7,8,9,11,12,13,15,16,17,19,20,21,23,24,25,26,28,29,30,32,33,34,36,37,38,39,41,42,43,45,46,47,49,50,51,52,54,55,56,58,59,60,62,63,64,65,67,68,69,71,72,73,75,76,77,79,80,81,82,84,85,86,88,89,90,92,93,94,95,97,98,99,101,102,103,105,106,107,108,110,111,112,114,115,116,118,119,120,122,123,124,125,127,128,129,131,132,133,135,136,137,138,140,141,142,144,145,146,148,149,150,151,153,154,155,157,158,159,161,162,163,164,166,167,168,170,171,172,174,175,176,178,179,180,181,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,5,6,8,9,10,12,13,14,16,17,18,20,21,22,24,25,26,28,29,30,32,33,34,36,37,38,40,41,42,44,45,46,48,49,50,52,53,54,56,57,58,60,61,62,64,65,66,68,69,70,72,73,74,76,77,78,80,81,82,84,85,86,88,89,90,92,93,94,95,97,98,99,101,102,103,105,106,107,109,110,111,113,114,115,117,118,119,121,122,123,125,126,127,129,130,131,133,134,135,137,138,139,141,142,143,145,146,147,149,150,151,153,154,155,157,158,159,161,162,163,165,166,167,169,170,171,173,174,175,177,178,179,181,182,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,5,6,8,9,10,12,13,14,16,17,18,20,21,22,24,25,26,28,29,30,32,33,34,36,37,38,40,41,42,44,45,46,48,49,50,52,53,54,56,57,58,60,61,62,64,65,66,68,69,70,72,73,74,76,77,78,80,81,82,84,85,86,88,89,90,92,93,94,95,97,98,99,101,102,103,105,106,107,109,110,111,113,114,115,117,118,119,121,122,123,125,126,127,129,130,131,133,134,135,137,138,139,141,142,143,145,146,147,149,150,151,153,154,155,157,158,159,161,162,163,165,166,167,169,170,171,173,174,175,177,178,179,181,182,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,6,7,8,10,11,13,14,15,17,18,19,21,22,23,25,26,28,29,30,32,33,34,36,37,38,40,41,42,44,45,47,48,49,51,52,53,55,56,57,59,60,62,63,64,66,67,68,70,71,72,74,75,76,78,79,81,82,83,85,86,87,89,90,91,93,94,96,97,98,100,101,102,104,105,106,108,109,111,112,113,115,116,117,119,120,121,123,124,125,127,128,130,131,132,134,135,136,138,139,140,142,143,145,146,147,149,150,151,153,154,155,157,158,159,161,162,164,165,166,168,169,170,172,173,174,176,177,179,180,181,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,5,7,8,9,11,12,14,15,16,18,19,21,22,23,25,26,27,29,30,32,33,34,36,37,39,40,41,43,44,46,47,48,50,51,53,54,55,57,58,59,61,62,64,65,66,68,69,71,72,73,75,76,78,79,80,82,83,84,86,87,89,90,91,93,94,96,97,98,100,101,103,104,105,107,108,109,111,112,114,115,116,118,119,121,122,123,125,126,128,129,130,132,133,134,136,137,139,140,141,143,144,146,147,148,150,151,153,154,155,157,158,160,161,162,164,165,166,168,169,171,172,173,175,176,178,179,180,182,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},
//        {255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,5,7,8,9,11,12,14,15,16,18,19,21,22,23,25,26,27,29,30,32,33,34,36,37,39,40,41,43,44,46,47,48,50,51,53,54,55,57,58,59,61,62,64,65,66,68,69,71,72,73,75,76,78,79,80,82,83,84,86,87,89,90,91,93,94,96,97,98,100,101,103,104,105,107,108,109,111,112,114,115,116,118,119,121,122,123,125,126,128,129,130,132,133,134,136,137,139,140,141,143,144,146,147,148,150,151,153,154,155,157,158,160,161,162,164,165,166,168,169,171,172,173,175,176,178,179,180,182,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,5,6,8,9,11,12,13,15,16,18,19,20,22,23,25,26,28,29,30,32,33,35,36,37,39,40,42,43,45,46,47,49,50,52,53,54,56,57,59,60,62,63,64,66,67,69,70,72,73,74,76,77,79,80,81,83,84,86,87,89,90,91,93,94,96,97,98,100,101,103,104,106,107,108,110,111,113,114,115,117,118,120,121,123,124,125,127,128,130,131,133,134,135,137,138,140,141,142,144,145,147,148,150,151,152,154,155,157,158,159,161,162,164,165,167,168,169,171,172,174,175,176,178,179,181,182,184,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,5,6,8,9,11,12,13,15,16,18,19,20,22,23,25,26,28,29,30,32,33,35,36,37,39,40,42,43,45,46,47,49,50,52,53,54,56,57,59,60,62,63,64,66,67,69,70,72,73,74,76,77,79,80,81,83,84,86,87,89,90,91,93,94,96,97,98,100,101,103,104,106,107,108,110,111,113,114,115,117,118,120,121,123,124,125,127,128,130,131,133,134,135,137,138,140,141,142,144,145,147,148,150,151,152,154,155,157,158,159,161,162,164,165,167,168,169,171,172,174,175,176,178,179,181,182,184,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,4,6,7,9,10,12,13,15,16,17,19,20,22,23,25,26,28,29,31,32,33,35,36,38,39,41,42,44,45,46,48,49,51,52,54,55,57,58,59,61,62,64,65,67,68,70,71,73,74,75,77,78,80,81,83,84,86,87,88,90,91,93,94,96,97,99,100,101,103,104,106,107,109,110,112,113,114,116,117,119,120,122,123,125,126,128,129,130,132,133,135,136,138,139,141,142,143,145,146,148,149,151,152,154,155,156,158,159,161,162,164,165,167,168,170,171,172,174,175,177,178,180,181,183,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,4,6,7,9,10,12,13,14,16,17,19,20,22,23,25,26,28,29,31,32,34,35,37,38,40,41,43,44,46,47,48,50,51,53,54,56,57,59,60,62,63,65,66,68,69,71,72,74,75,77,78,79,81,82,84,85,87,88,90,91,93,94,96,97,99,100,102,103,105,106,108,109,110,112,113,115,116,118,119,121,122,124,125,127,128,130,131,133,134,136,137,139,140,141,143,144,146,147,149,150,152,153,155,156,158,159,161,162,164,165,167,168,170,171,173,174,175,177,178,180,181,183,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,4,6,7,9,10,12,13,14,16,17,19,20,22,23,25,26,28,29,31,32,34,35,37,38,40,41,43,44,46,47,48,50,51,53,54,56,57,59,60,62,63,65,66,68,69,71,72,74,75,77,78,79,81,82,84,85,87,88,90,91,93,94,96,97,99,100,102,103,105,106,108,109,110,112,113,115,116,118,119,121,122,124,125,127,128,130,131,133,134,136,137,139,140,141,143,144,146,147,149,150,152,153,155,156,158,159,161,162,164,165,167,168,170,171,173,174,175,177,178,180,181,183,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},
//        {255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,5,7,8,10,11,13,14,16,17,19,20,22,23,25,26,28,29,31,33,34,36,37,39,40,42,43,45,46,48,49,51,52,54,55,57,58,60,61,63,64,66,67,69,70,72,73,75,76,78,79,81,82,84,85,87,88,90,91,93,94,96,97,99,100,102,103,105,106,108,109,111,112,114,115,117,118,120,121,123,124,126,127,129,130,132,133,135,136,138,139,141,142,144,145,147,148,150,151,153,154,156,158,159,161,162,164,165,167,168,170,171,173,174,176,177,179,180,182,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,5,7,8,10,11,13,14,16,18,19,21,22,24,25,27,28,30,31,33,34,36,37,39,41,42,44,45,47,48,50,51,53,54,56,57,59,60,62,64,65,67,68,70,71,73,74,76,77,79,80,82,84,85,87,88,90,91,93,94,96,97,99,100,102,103,105,107,108,110,111,113,114,116,117,119,120,122,123,125,127,128,130,131,133,134,136,137,139,140,142,143,145,146,148,150,151,153,154,156,157,159,160,162,163,165,166,168,169,171,173,174,176,177,179,180,182,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,4,5,7,8,10,11,13,15,16,18,19,21,22,24,25,27,29,30,32,33,35,36,38,40,41,43,44,46,47,49,50,52,54,55,57,58,60,61,63,65,66,68,69,71,72,74,76,77,79,80,82,83,85,86,88,90,91,93,94,96,97,99,101,102,104,105,107,108,110,111,113,115,116,118,119,121,122,124,126,127,129,130,132,133,135,137,138,140,141,143,144,146,147,149,151,152,154,155,157,158,160,162,163,165,166,168,169,171,172,174,176,177,179,180,182,183,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,4,5,7,8,10,11,13,15,16,18,19,21,22,24,25,27,29,30,32,33,35,36,38,40,41,43,44,46,47,49,50,52,54,55,57,58,60,61,63,65,66,68,69,71,72,74,76,77,79,80,82,83,85,86,88,90,91,93,94,96,97,99,101,102,104,105,107,108,110,111,113,115,116,118,119,121,122,124,126,127,129,130,132,133,135,137,138,140,141,143,144,146,147,149,151,152,154,155,157,158,160,162,163,165,166,168,169,171,172,174,176,177,179,180,182,183,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,5,7,8,10,11,13,15,16,18,19,21,23,24,26,27,29,31,32,34,35,37,39,40,42,43,45,47,48,50,51,53,54,56,58,59,61,62,64,66,67,69,70,72,74,75,77,78,80,82,83,85,86,88,90,91,93,94,96,97,99,101,102,104,105,107,109,110,112,113,115,117,118,120,121,123,125,126,128,129,131,133,134,136,137,139,140,142,144,145,147,148,150,152,153,155,156,158,160,161,163,164,166,168,169,171,172,174,176,177,179,180,182,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,3,5,7,8,10,12,13,15,16,18,20,21,23,25,26,28,29,31,33,34,36,38,39,41,42,44,46,47,49,51,52,54,55,57,59,60,62,63,65,67,68,70,72,73,75,76,78,80,81,83,85,86,88,89,91,93,94,96,98,99,101,102,104,106,107,109,111,112,114,115,117,119,120,122,124,125,127,128,130,132,133,135,136,138,140,141,143,145,146,148,149,151,153,154,156,158,159,161,162,164,166,167,169,171,172,174,175,177,179,180,182,184,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},
//        {255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,4,5,7,8,10,12,13,15,17,18,20,22,23,25,27,28,30,32,33,35,37,38,40,41,43,45,46,48,50,51,53,55,56,58,60,61,63,65,66,68,70,71,73,75,76,78,79,81,83,84,86,88,89,91,93,94,96,98,99,101,103,104,106,108,109,111,112,114,116,117,119,121,122,124,126,127,129,131,132,134,136,137,139,141,142,144,146,147,149,150,152,154,155,157,159,160,162,164,165,167,169,170,172,174,175,177,179,180,182,183,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,4,5,7,9,10,12,14,15,17,19,20,22,24,25,27,29,30,32,34,36,37,39,41,42,44,46,47,49,51,52,54,56,57,59,61,62,64,66,67,69,71,72,74,76,78,79,81,83,84,86,88,89,91,93,94,96,98,99,101,103,104,106,108,109,111,113,115,116,118,120,121,123,125,126,128,130,131,133,135,136,138,140,141,143,145,146,148,150,151,153,155,157,158,160,162,163,165,167,168,170,172,173,175,177,178,180,182,183,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,4,5,7,9,10,12,14,15,17,19,20,22,24,25,27,29,30,32,34,36,37,39,41,42,44,46,47,49,51,52,54,56,57,59,61,62,64,66,67,69,71,72,74,76,78,79,81,83,84,86,88,89,91,93,94,96,98,99,101,103,104,106,108,109,111,113,115,116,118,120,121,123,125,126,128,130,131,133,135,136,138,140,141,143,145,146,148,150,151,153,155,157,158,160,162,163,165,167,168,170,172,173,175,177,178,180,182,183,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,4,5,7,9,11,12,14,16,17,19,21,23,24,26,28,29,31,33,35,36,38,40,41,43,45,46,48,50,52,53,55,57,58,60,62,64,65,67,69,70,72,74,76,77,79,81,82,84,86,88,89,91,93,94,96,98,99,101,103,105,106,108,110,111,113,115,117,118,120,122,123,125,127,129,130,132,134,135,137,139,141,142,144,146,147,149,151,152,154,156,158,159,161,163,164,166,168,170,171,173,175,176,178,180,182,183,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,4,6,7,9,11,13,14,16,18,20,21,23,25,27,28,30,32,34,35,37,39,40,42,44,46,47,49,51,53,54,56,58,60,61,63,65,67,68,70,72,74,75,77,79,80,82,84,86,87,89,91,93,94,96,98,100,101,103,105,107,108,110,112,113,115,117,119,120,122,124,126,127,129,131,133,134,136,138,140,141,143,145,147,148,150,152,153,155,157,159,160,162,164,166,167,169,171,173,174,176,178,180,181,183,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,6,8,10,11,13,15,17,18,20,22,24,25,27,29,31,33,34,36,38,40,41,43,45,47,48,50,52,54,55,57,59,61,63,64,66,68,70,71,73,75,77,78,80,82,84,86,87,89,91,93,94,96,98,100,101,103,105,107,109,110,112,114,116,117,119,121,123,124,126,128,130,132,133,135,137,139,140,142,144,146,147,149,151,153,154,156,158,160,162,163,165,167,169,170,172,174,176,177,179,181,183,185,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},
//        {255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,6,8,10,12,14,15,17,19,21,23,24,26,28,30,32,33,35,37,39,41,42,44,46,48,49,51,53,55,57,58,60,62,64,66,67,69,71,73,75,76,78,80,82,84,85,87,89,91,93,94,96,98,100,102,103,105,107,109,111,112,114,116,118,120,121,123,125,127,129,130,132,134,136,138,139,141,143,145,146,148,150,152,154,155,157,159,161,163,164,166,168,170,172,173,175,177,179,181,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,7,9,10,12,14,16,18,20,21,23,25,27,29,31,32,34,36,38,40,41,43,45,47,49,51,52,54,56,58,60,62,63,65,67,69,71,73,74,76,78,80,82,83,85,87,89,91,93,94,96,98,100,102,104,105,107,109,111,113,114,116,118,120,122,124,125,127,129,131,133,135,136,138,140,142,144,146,147,149,151,153,155,156,158,160,162,164,166,167,169,171,173,175,177,178,180,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,4,5,7,9,11,13,15,17,18,20,22,24,26,28,30,31,33,35,37,39,41,42,44,46,48,50,52,54,55,57,59,61,63,65,67,68,70,72,74,76,78,80,81,83,85,87,89,91,93,94,96,98,100,102,104,106,107,109,111,113,115,117,119,120,122,124,126,128,130,132,133,135,137,139,141,143,145,146,148,150,152,154,156,157,159,161,163,165,167,169,170,172,174,176,178,180,182,183,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,6,8,10,12,14,16,18,20,22,24,26,28,29,31,33,35,37,39,41,43,45,47,49,50,52,54,56,58,60,62,64,66,68,70,72,73,75,77,79,81,83,85,87,89,91,93,94,96,98,100,102,104,106,108,110,112,114,115,117,119,121,123,125,127,129,131,133,135,137,138,140,142,144,146,148,150,152,154,156,158,159,161,163,165,167,169,171,173,175,177,179,181,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,160,162,164,166,168,170,172,174,176,178,180,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,4,6,8,10,12,14,16,18,20,22,24,26,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,161,163,165,167,169,171,173,175,177,179,181,183,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,7,9,11,13,15,17,19,21,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,166,168,170,172,174,176,178,180,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,7,9,11,13,15,17,19,21,24,26,28,30,32,34,36,38,40,42,44,47,49,51,53,55,57,59,61,63,65,67,69,72,74,76,78,80,82,84,86,88,90,92,95,97,99,101,103,105,107,109,111,113,115,118,120,122,124,126,128,130,132,134,136,138,140,143,145,147,149,151,153,155,157,159,161,163,166,168,170,172,174,176,178,180,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},
//        {255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,4,6,8,10,12,14,16,18,20,23,25,27,29,31,33,35,37,40,42,44,46,48,50,52,54,56,59,61,63,65,67,69,71,73,76,78,80,82,84,86,88,90,92,95,97,99,101,103,105,107,109,111,114,116,118,120,122,124,126,128,131,133,135,137,139,141,143,145,147,150,152,154,156,158,160,162,164,167,169,171,173,175,177,179,181,183,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,2,4,7,9,11,13,15,17,19,22,24,26,28,30,32,35,37,39,41,43,45,47,50,52,54,56,58,60,62,65,67,69,71,73,75,77,80,82,84,86,88,90,92,95,97,99,101,103,105,107,110,112,114,116,118,120,122,125,127,129,131,133,135,137,140,142,144,146,148,150,152,155,157,159,161,163,165,168,170,172,174,176,178,180,183,185,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,4,6,9,11,13,15,17,20,22,24,26,29,31,33,35,37,40,42,44,46,48,51,53,55,57,59,62,64,66,68,70,73,75,77,79,81,84,86,88,90,92,95,97,99,101,103,106,108,110,112,114,117,119,121,123,125,128,130,132,134,136,139,141,143,145,147,150,152,154,156,158,161,163,165,167,170,172,174,176,178,181,183,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,8,10,12,14,16,19,21,23,25,28,30,32,34,37,39,41,43,46,48,50,52,54,57,59,61,63,66,68,70,72,75,77,79,81,83,86,88,90,92,95,97,99,101,104,106,108,110,112,115,117,119,121,124,126,128,130,133,135,137,139,141,144,146,148,150,153,155,157,159,162,164,166,168,171,173,175,177,179,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,8,10,12,14,17,19,21,24,26,28,31,33,35,37,40,42,44,47,49,51,53,56,58,60,63,65,67,69,72,74,76,79,81,83,85,88,90,92,95,97,99,102,104,106,108,111,113,115,118,120,122,124,127,129,131,134,136,138,140,143,145,147,150,152,154,156,159,161,163,166,168,170,173,175,177,179,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,5,8,10,12,15,17,20,22,24,27,29,31,34,36,38,41,43,45,48,50,52,55,57,59,62,64,66,69,71,74,76,78,81,83,85,88,90,92,95,97,99,102,104,106,109,111,113,116,118,121,123,125,128,130,132,135,137,139,142,144,146,149,151,153,156,158,160,163,165,167,170,172,175,177,179,182,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,4,7,9,11,14,16,19,21,23,26,28,30,33,35,38,40,42,45,47,50,52,54,57,59,61,64,66,69,71,73,76,78,80,83,85,88,90,92,95,97,99,102,104,107,109,111,114,116,118,121,123,126,128,130,133,135,137,140,142,145,147,149,152,154,157,159,161,164,166,168,171,173,176,178,180,183,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,5,7,9,12,14,17,19,22,24,27,29,31,34,36,39,41,44,46,48,51,53,56,58,61,63,65,68,70,73,75,78,80,83,85,87,90,92,95,97,100,102,104,107,109,112,114,117,119,122,124,126,129,131,134,136,139,141,143,146,148,151,153,156,158,160,163,165,168,170,173,175,178,180,182,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},
//        {255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,5,7,10,12,15,17,20,22,25,27,30,32,35,37,40,42,45,47,50,52,55,57,60,62,65,67,70,72,75,77,80,82,85,87,90,92,95,97,100,102,105,107,110,112,115,117,120,122,125,127,130,132,135,137,140,142,145,147,150,152,155,157,160,162,165,167,170,172,175,177,180,182,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,3,5,8,11,13,16,18,21,23,26,28,31,34,36,39,41,44,46,49,51,54,56,59,62,64,67,69,72,74,77,79,82,85,87,90,92,95,97,100,102,105,108,110,113,115,118,120,123,125,128,131,133,136,138,141,143,146,148,151,153,156,159,161,164,166,169,171,174,176,179,182,184,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,3,6,9,11,14,17,19,22,24,27,30,32,35,37,40,43,45,48,50,53,56,58,61,63,66,69,71,74,77,79,82,84,87,90,92,95,97,100,103,105,108,110,113,116,118,121,124,126,129,131,134,137,139,142,144,147,150,152,155,157,160,163,165,168,170,173,176,178,181,184,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,4,7,9,12,15,17,20,23,25,28,31,33,36,39,41,44,47,49,52,55,57,60,63,65,68,71,73,76,79,81,84,87,89,92,95,98,100,103,106,108,111,114,116,119,122,124,127,130,132,135,138,140,143,146,148,151,154,156,159,162,164,167,170,172,175,178,180,183,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,4,7,9,12,15,18,20,23,26,29,32,34,37,40,43,45,48,51,54,56,59,62,65,67,70,73,76,78,81,84,87,89,92,95,98,100,103,106,109,111,114,117,120,122,125,128,131,133,136,139,142,144,147,150,153,155,158,161,164,167,169,172,175,178,180,183,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,5,8,11,13,16,19,22,25,27,30,33,36,39,41,44,47,50,53,56,58,61,64,67,70,72,75,78,81,84,86,89,92,95,98,101,103,106,109,112,115,117,120,123,126,129,131,134,137,140,143,146,148,151,154,157,160,162,165,168,171,174,176,179,182,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,5,8,11,14,17,20,22,25,28,31,34,37,40,43,46,49,51,54,57,60,63,66,69,72,75,78,80,83,86,89,92,95,98,101,104,107,109,112,115,118,121,124,127,130,133,136,138,141,144,147,150,153,156,159,162,165,167,170,173,176,179,182,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,3,6,9,12,15,18,21,24,27,30,33,36,39,42,45,48,51,54,57,59,62,65,68,71,74,77,80,83,86,89,92,95,98,101,104,107,110,113,116,119,122,125,128,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,4,7,10,13,16,19,22,25,28,31,34,37,40,43,46,49,52,55,58,62,65,68,71,74,77,80,83,86,89,92,95,98,101,104,107,110,113,116,119,122,125,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,4,7,10,14,17,20,23,26,29,32,36,39,42,45,48,51,54,57,61,64,67,70,73,76,79,83,86,89,92,95,98,101,104,108,111,114,117,120,123,126,130,133,136,139,142,145,148,151,155,158,161,164,167,170,173,177,180,183,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},
//        {255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,5,8,11,15,18,21,24,27,31,34,37,40,44,47,50,53,56,60,63,66,69,73,76,79,82,85,89,92,95,98,102,105,108,111,114,118,121,124,127,131,134,137,140,143,147,150,153,156,160,163,166,169,172,176,179,182,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,2,5,8,12,15,18,22,25,28,32,35,38,42,45,48,52,55,58,62,65,68,72,75,78,82,85,88,92,95,99,102,105,109,112,115,119,122,125,129,132,135,139,142,145,149,152,155,159,162,165,169,172,175,179,182,185,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,3,6,10,13,16,20,23,27,30,34,37,40,44,47,51,54,58,61,64,68,71,75,78,82,85,88,92,95,99,102,105,109,112,116,119,123,126,129,133,136,140,143,147,150,153,157,160,164,167,171,174,177,181,184,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,3,7,10,14,17,21,24,28,32,35,39,42,46,49,53,56,60,63,67,70,74,78,81,85,88,92,95,99,102,106,109,113,117,120,124,127,131,134,138,141,145,148,152,155,159,163,166,170,173,177,180,184,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,4,8,11,15,19,22,26,30,33,37,40,44,48,51,55,59,62,66,70,73,77,81,84,88,92,95,99,103,106,110,114,117,121,125,128,132,136,139,143,147,150,154,157,161,165,168,172,176,179,183,187,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,5,9,12,16,20,24,27,31,35,39,43,46,50,54,58,61,65,69,73,77,80,84,88,92,95,99,103,107,110,114,118,122,126,129,133,137,141,144,148,152,156,160,163,167,171,175,178,182,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255},{255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,5,9,13,17,21,25,29,33,37,41,45,48,52,56,60,64,68,72,76,80,84,88,92,95,99,103,107,111,115,119,123,127,131,135,139,142,146,150,154,158,162,166,170,174,178,182,186,187,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255} };



////////////////////////////////////////////
//功能：圆形前瞻
//输入：
//输出：
//备注：
///////////////////////////////////////////
void circle_foresee() {
    int midx = (left_line[108] + right_line[108]) / 2;
    int midy = NEAR_LINE;
    int k = 0;

    for (int i = 0; i <= CAMERA_W; i++) {
        for (int j = 0; j <= NEAR_LINE; j++) {
            if ((i - midx) * (i - midx) + (j - midy) * (j - midy) < ForeSee + 1 && (i - midx) * (i - midx) + (j - midy) * (j - midy) >= ForeSee) {
                foreSee[k].x = i;
                foreSee[k].y = j;
                k++;
            }
        }
    }


}

////////////////////////////////////////////
//功能：阈值的确定
//输入：
//输出：
//备注：大津算法
///////////////////////////////////////////
void decide_miss() {
    for (int i = 0; i <= NEAR_LINE; i++) {
        if (i <= 35) {
            missLeft[i] = MISS;
            missRight[i] = MISS;
        }
        else if (i > 35) {
            double kLeft = (double)(0 - 61) / (36 - 109);
            double kRight = (double)(125 - 187) / (36 - 109);

            missLeft[i] = kLeft * (i - 36);
            missRight[i] = kRight * (i - 36) + 187;
        }
    }
}

////////////////////////////////////////////
//功能：阈值的确定
//输入：
//输出：
//备注：大津算法
///////////////////////////////////////////
void OTSU() {
    uint8_t* map;
    uint8_t* my_map;

    map = fullBuffer;
    uint8_t my_threshold=0;
    long int sum=0;
    for (int i = 0; i <= 120 * 188; i++) {
        sum += *(map);
        map++;
    }

    int averange = sum / (120 * 188);

    uint8_t max_num = 0, num = 0;

    map = fullBuffer;
    for (int k = 120; k <= 160; k++) {
        int a_less, a_more;
        float p_less, p_more;
        int count_less = 0, count_more = 0;
        int sum_less = 0, sum_more = 0;
        my_map = fullBuffer;
        for (int i = 0; i < 120 * 188; i++) {
            if (*(my_map) < k) {
                count_less++;
                sum_less += *(my_map);
            }
            else {
                count_more++;
                sum_more += *(my_map);
            }
            my_map++;
        }
        p_less = (float)sum_less / (120 * 188);
        p_more = (float)sum_more / (120 * 188);
        if (count_less == 0 || count_more == 0) {
            continue;
        }
        a_less = sum_less / (count_less);
        a_more = sum_more / (count_more);
        num = p_less * p_more * (a_less - a_more) * (a_less - a_more);
        if (num >= max_num) {
            max_num = num;
            my_threshold = k;
        }
        map++;
    }
    threshold = my_threshold;
    ////printf("OTSU_threshold=%d\n", threshold);

}

////////////////////////////////////////////
//功能：分区阈值的确定
//输入：
//输出：
//备注：大津算法
///////////////////////////////////////////
void part_OUST() {
    uint8_t* map;
    uint8_t* my_map;

    map = fullBuffer;
    uint8_t my_threshold = 0;
    long int sum = 0;
    for (int i = 0; i <= 60 * 188; i++) {
        sum += *(map);
        map++;
    }
    uint8_t* mapLine = map;

    int averange = sum / (60 * 188);

    uint8_t max_num = 0, num = 0;

    map = fullBuffer;
    for (int k = 100; k <= 160; k++) {
        int a_less, a_more;
        float p_less, p_more;
        int count_less = 0, count_more = 0;
        int sum_less = 0, sum_more = 0;
        my_map = fullBuffer;
        for (int i = 0; i < 60 * 188; i++) {
            if (*(my_map) < k) {
                count_less++;
                sum_less += *(my_map);
            }
            else {
                count_more++;
                sum_more += *(my_map);
            }
            my_map++;
        }
        p_less = (float)sum_less / (60 * 188);
        p_more = (float)sum_more / (60 * 188);
        if (count_less == 0 || count_more == 0) {
            continue;
        }
        a_less = sum_less / (count_less);
        a_more = sum_more / (count_more);
        num = p_less * p_more * (a_less - a_more) * (a_less - a_more);
        if (num >= max_num) {
            max_num = num;
            my_threshold = k;
        }
        map++;
    }
    thresholdUp = my_threshold;
    ////printf("threUp=%d,", thresholdUp);

    map = mapLine;
    my_threshold = 0;
    sum = 0;
    for (int i = 0; i <= 60 * 188; i++) {
        sum += *(map);
        map++;
    }

    averange = sum / (60 * 188);

    max_num = 0;
    num = 0;

    map = mapLine;
    for (int k = 100; k <= 160; k++) {
        int a_less, a_more;
        float p_less, p_more;
        int count_less = 0, count_more = 0;
        int sum_less = 0, sum_more = 0;
        my_map = mapLine;
        for (int i = 0; i < 60 * 188; i++) {
            if (*(my_map) < k) {
                count_less++;
                sum_less += *(my_map);
            }
            else {
                count_more++;
                sum_more += *(my_map);
            }
            my_map++;
        }
        p_less = (float)sum_less / (60 * 188);
        p_more = (float)sum_more / (60 * 188);
        if (count_less == 0 || count_more == 0) {
            continue;
        }
        a_less = sum_less / (count_less);
        a_more = sum_more / (count_more);
        num = p_less * p_more * (a_less - a_more) * (a_less - a_more);
        if (num >= max_num) {
            max_num = num;
            my_threshold = k;
        }
        map++;
    }
    thresholdDown = my_threshold;
    ////printf("threDown=%d\n", thresholdDown);

}

////////////////////////////////////////////
//功能：阈值的确定
//输入：
//输出：
//备注：迭代算法
///////////////////////////////////////////
void iteration() {
    uint8_t* map;
    map = fullBuffer;
    uint8_t threshold1 = 0;
    uint8_t threshold2 = 255;
    float threshold_origin=0;
    uint8_t img_max = *(map), img_min = *(map);
    for (int i = 0; i < 188 * 120; i++) {
        if (*(map) >= img_max) {
            img_max = *(map);
        }
        else if(*(map)<img_min){
            img_min = *(map);
        }
        map++;
    }
    threshold_origin = (img_max + img_min) / 2;
//    //printf("threshold_origin=%d\n", threshold);

    float my_threshold = threshold_origin;

    do {
        threshold_origin = my_threshold;
        map = fullBuffer;
        float img_sum1 = 0, img_sum2 = 0;
        int img_num1 = 0, img_num2 = 0;
        for (int i = 0; i < 120; i++) {
            for (int j = 0; j < 188; j++) {
                if (*(map) >= threshold_origin) {
                    img_sum2 += *(map);
                    img_num2++;
                }
                else {
                    img_sum1 += *(map);
                    img_num1++;
                }
                map++;
            }
        }
        if (img_num1 == 0 || img_num2 == 0) {
            continue;
        }
        else {
            threshold1 = (float)img_sum1 / img_num1;
            threshold2 = (float)img_sum2 / img_num2;
            my_threshold = ((float)(threshold1 + threshold2)) / 2;
//            //printf("threshold_origin=%d@@threshold1=%d@@threshold2=%d\n", threshold_origin, threshold1, threshold2);
        }

    } while (threshold_origin - my_threshold != 0);
    threshold = threshold_origin;
//    //printf("threshold=%d", threshold);
}

////////////////////////////////////////////
//功能：去畸变
//输入：灰度图片
//输出：二值化图片
//备注：
///////////////////////////////////////////
//void distortion() {
//    string image_file("D:\\四轮九队采图\\四轮九队采图\\12-31逆透视去畸变直道\\0.jpeg");
//    cv::Mat image = cv::imread(image_file,0);
//    cv::Mat image_undisor = cv::Mat(CAMERA_H,CAMERA_W,CV_8UC1);
//    uint8_t image_undis[CAMERA_H][CAMERA_W];
//    uint8_t image_dis[CAMERA_H][CAMERA_W];
//
//    for (int i = 0; i < 120; i++) {
//        for (int j = 0; j < 188; j++) {
//            image_dis[i][j] = *(fullBuffer);
//            fullBuffer++;
//        }
//    }
//
//
//    double fx = 61.5913;
//    double fy = 62.0027;
//    double u0 = 92.6154;
//    double v0 = 63.9785;
//    double k1 = -0.0147;
//    double k2 = -0.0129;
//    double k3 = 0;
//    double p1 = -9.6308e-5;
//    double p2 = 4.3509e-4;
//    double cx = u0, cy = v0;
//
//    for (int x = 0; x < 188; x++) {
//        for (int y = 0; y < 120; y++) {
//            double x_distorted = 0, y_distorted = 0;
//            //double fx = 63.9511, fy = 65.0083, cx = 93.2734, cy = 62.7923;
//            double x1, y1, x2, y2;
//            x1 = (x - cx) / fx;
//            y1 = (y - cy) / fy;
//            double r2;
//            r2 = pow(x1, 2) + pow(y1, 2);
//            x2 = x1 * (1 + k1 * r2 + k2 * pow(r2, 2)+k3*pow(r2,3)) + 2 * p1 * x1 * y1 + p2 * (r2 + 2 * x1 * x1);
//            y2 = y1 * (1 + k1 * r2 + k2 * pow(r2, 2)+k3*pow(r2,3)) + p1 * (r2 + 2 * y1 * y1) + 2 * p2 * x1 * y1;
//            x_distorted = x2 * fx + cx;
//            y_distorted = y2 * fy + cy;
//
//            if (x_distorted >= 0 && y_distorted >= 0 && ((int)x_distorted) < 188 && ((int)y_distorted) < 120) {
//                ////printf("%d,%d,%lf,%lf\n",y, x, y_distorted, x_distorted);
//                image_undisor.at<char>(y, x) = image.at<char>((int)y_distorted,(int)x_distorted);
//                image_undis[y][x] = image_dis[(int)y_distorted][(int)x_distorted];
//            }
//            else {
//                image_undisor.at<char>(y, x) = 0;
//                image_undis[y][x] = 0;
//            }
//        }
//    }
//    fullBuffer = &image_undis[0][0];
//    //show_dis(image_undisor);
//
//}

////////////////////////////////////////////
//功能：二值化
//输入：灰度图片
//输出：二值化图片
//备注：
///////////////////////////////////////////
void  THRE(int num)
{
    //iteration();
//    if (num == 1) {
//        uint8_t* map;
//        uint8_t* my_map;
//        uint8_t* my_map1;
//        map = fullBuffer;
//
//        for (int i = 0; i < 120; i++)
//        {
//            my_map = &IMG[i][0];
//            for (int j = 0; j < 188; j++)
//            {
//                if ((*map) > threshold)
//                    (*my_map) = white;
//                else (*my_map) = black;
//                map++;
//                my_map++;
//            }
//        }
//    }
//    else if (num == 2) {
//        uint8_t* map;
//        uint8_t* my_map;
//        uint8_t* my_map1;
//        map = fullBuffer;
//
//        for (int i = 0; i < 120; i++)
//        {
//            my_map = &IMG[i][0];
//            if (i < 60) {
//                threshold = thresholdUp;
//            }
//            else if (i >= 120) {
//                threshold = thresholdDown;
//            }
//            for (int j = 0; j < 188; j++)
//            {
//                if ((*map) > threshold)
//                    (*my_map) = white;
//                else (*my_map) = black;
//                map++;
//                my_map++;
//            }
//        }
//    }
//
    uint8_t* map;
    uint8_t* my_map;
    uint8_t* my_map1;
    map = fullBuffer;

    for (int i = 0; i < 120; i++)
    {
         my_map = &IMG[i][0];
        for (int j = 0; j < 188; j++)
        {
            if ((*map) > threshold)
                (*my_map) = white;
                    else (*my_map) = black;
                    map++;
                    my_map++;
//            fullBuffer++;
                }
            }
//    fullBuffer=map;
}

////////////////////////////////////////////
//功能：逆透视变换 // 指针优化版
//输入：
//输出：
//备注：无
///////////////////////////////////////////
//void IPM_map(void)
//{
//    int i;
//    int j;
//    uint8_t* pp = NULL;
//    uint8_t* ss = NULL;
//    pp = &left_side[0];
//    ss = &right_side[0];
//    uint8_t* str = NULL;
//    uint8_t* ptr = NULL;
//    str = &IMG[0][0];//变换后数组
//    ptr = fullBuffer;//变换前数组
//    uint8_t* pptr = NULL;
//    uint8_t* sstr = NULL;
//    pptr = &i_fix[0];
//    sstr = &j_fix[0][0];
//    int j_begin, j_end;
//    uint8_t* tstr = NULL;
//    uint8_t* tsstr = NULL;
//    uint8_t* tptr = NULL;
//    for (i = 0; i < CAMERA_H; i++)
//    {
//        j_begin = *(pp + i);
//        j_end = *(ss + i);
//        tstr = str + i * 188;
//        tsstr = sstr + i * 188;
//        tptr = ptr + *(pptr + i) * 188;
//        for (j = j_begin; j <= j_end; j++)
//        {
////            //*(tstr + j) = *(tptr + *(tsstr + j));
////            if(*(tptr + *(tsstr + j))>threshold){
////                *(tstr + j) = white;
////            }else{
////                *(tstr + j) = black;
////            }
//
//            if(0 <= 0 && i < 60){
//                if(*(tptr + *(tsstr + j))>thresholdUp){
//                    *(tstr + j) = white;
//                }else{
//                    *(tstr + j) = black;
//                }
//            }
//            if(i >= 60 && i <= 109){
//                if(*(tptr + *(tsstr + j))>thresholdDown){
//                    *(tstr + j) = white;
//                }else{
//                    *(tstr + j) = black;
//                }
//            }
//        }
//    }
//    for (int m = 0; m < 120; m++) {
//        for (int n = 0; n < 188; n++) {
//            IMG[m][n] = IMG_IMP[m][n];
//        }
//    }
//}//map

////////////////////////////////////////////
//功能：锐化图片
//输入：二值化图片
//输出：
//备注：
///////////////////////////////////////////
void sharpen() {
    float IMG_sharpen[86][256];
    float IMG_delta[86][256];
    for (int i = 0; i < 86; i++) {
        for (int j = 0; j < 256; j++) {
            IMG_delta[i][j] = abs(-5 * (IMG[i][j] - (IMG[i - 1][j] + IMG[i][j - 1] + IMG[i][j] + IMG[i][j + 1] + IMG[i + 1][j])));
            IMG_sharpen[i][j] = IMG[i][j] - IMG_delta[i][j];
        }
    }
    for (int i = 0; i < 86; i++) {
        for (int j = 0; j < 256; j++) {
            IMG[i][j] = IMG[i][j] - IMG_sharpen[i][j];
        }
    }
    for (int i = 0; i < 86; i++) {
        for (int j = 0; j < 256; j++) {
            if (IMG[i][j] > 0.8) {
                IMG[i][j] = 1;
            }
            else {
                IMG[i][j] = 0;
            }
        }
    }
}

////////////////////////////////////////////
//功能：粗犷的清车头
//输入：
//输出：
//备注：要根据自己车头的大小进行修改
///////////////////////////////////////////
void head_clear(void)
{
    uint8_t* my_map;
    for (int i = 85; i >= 79; i--)
    {
        my_map = &IMG[i][0];
        for (int j = 62; j <= 112; j++)
        {
            *(my_map + j) = white;
        }
    }
    /*for (int i = 80; i >= 70; i--)
    {
        my_map = &IMG[i][0];
        for (int j = 37; j <= 150; j++)
        {
            *(my_map + j) = white;
        }
    }*/
}

////////////////////////////////////////////
//功能：查找父节点
//输入：节点编号
//输出：最老祖先
//备注：含路径压缩
///////////////////////////////////////////
int find_f(int node)
{
    if (f[node] == node)return node;//找到最古老祖先，return
    f[node] = find_f(f[node]);//向上寻找自己的父节点
    return f[node];
}

////////////////////////////////////////////
//功能：提取跳变沿 并对全部白条子标号
//输入：IMG[120][188]
//输出：white_range[120]
//备注：指针提速
///////////////////////////////////////////
void search_white_range()
{
    uint8_t i, j;
    int istart = NEAR_LINE;//处理起始行
    int iend = FAR_LINE;//处理终止行
    int tnum = 0;//当前行白条数
    all_connect_num = 0;//白条编号初始化
    uint8_t* map = NULL;
    for (i = istart; i >= iend; i--)
    {
        map = &IMG[i][LEFT_SIDE];//指针行走加快访问速度
        tnum = 0;
        for (j = LEFT_SIDE; j <= RIGHT_SIDE; j++, map++)
        {
            if ((*map))//遇白条左边界
            {
                tnum++;
                if (tnum >= white_num_MAX)break;
                range* now_white = &white_range[i].area[tnum];
                now_white->left = j;

                //开始向后一个一个像素点找这个白条右边界
                map++;
                j++;

                while ((*map) && j <= RIGHT_SIDE)
                {
                    map++;
                    j++;
                }
                now_white->right = j - 1;
                now_white->connect_num = ++all_connect_num;//白条数加一，给这个白条编号
            }
        }
        white_range[i].num = tnum;
    }
}

////////////////////////////////////////////
//功能：寻找白条子连通性，将全部联通白条子的节点编号刷成最古老祖先的节点编号
//输入：
//输出：
//备注：
///////////////////////////////////////////
void find_all_connect()
{
    //f数组初始化
    for (int i = 1; i <= all_connect_num; i++)
        f[i] = i;

    //u为up d为down 即为当前处理的这两行中的上面那行和下面那行
    //u_num：上面行白条数
    //u_left：上面行当前白条左边界
    //u_right：上面行当前白条右边界
    //i_u：当前处理的这个白条是当前这行（上面行）白条中的第i_u个
    int u_num, i_u, u_left, u_right;
    int d_num, i_d, d_left, d_right;
    all_range* u_white = NULL;
    all_range* d_white = NULL;
    for (int i = NEAR_LINE; i > FAR_LINE; i--)//因为每两行每两行比较 所以循环到FAR_LINE+1
    {
        u_num = white_range[i - 1].num;
        d_num = white_range[i].num;
        u_white = &white_range[i - 1];
        d_white = &white_range[i];
        i_u = 1; i_d = 1;

        //循环到当前行或上面行白条子数耗尽为止
        while (i_u <= u_num && i_d <= d_num)
        {
            //变量先保存，避免下面访问写的冗杂且访问效率低
            u_left = u_white->area[i_u].left;
            u_right = u_white->area[i_u].right;
            d_left = d_white->area[i_d].left;
            d_right = d_white->area[i_d].right;

            if (u_left <= d_right && u_right >= d_left)//如果两个白条联通
                f[find_f(u_white->area[i_u].connect_num)] = find_f(d_white->area[i_d].connect_num);//父节点连起来

            //当前算法规则，手推一下你就知道为啥这样了
            if (d_right > u_right)i_u++;
            if (d_right < u_right)i_d++;
            if (d_right == u_right) { i_u++; i_d++; }
        }
    }
}

////////////////////////////////////////////
//功能：寻找赛道
//输入：
//输出：
//备注：
///////////////////////////////////////////
void find_road()
{
    uint8_t istart = NEAR_LINE;
    uint8_t iend = FAR_LINE;
    top_road = NEAR_LINE;//赛道最高处所在行数，先初始化话为最低处
    int road_f = -1;//赛道所在连通域父节点编号，先初始化为-1，以判断是否找到赛道
    int while_range_num = 0, roud_while_range_num = 0;
    all_range* twhite_range = NULL;
    road* tmy_road = NULL;
    //寻找赛道所在连通域
    // 寻找最中心的白条子
    for (int i = 1; i <= white_range[istart].num; i++)
        if (white_range[istart].area[i].left <= CAMERA_W / 2
            && white_range[istart].area[i].right >= CAMERA_W / 2 && (white_range[istart].area[i].right - white_range[istart].area[i].left) >= 90)
            road_f = find_f(white_range[istart].area[i].connect_num);

    if (road_f == -1)//若赛道没在中间，在113行选一行最长的认为这就是赛道
    {
        int widthmax = 0, jselect = 1;
        for (int i = 1; i <= white_range[istart].num; i++)
            if (white_range[istart].area[i].right - white_range[istart].area[i].left > widthmax)
            {
                widthmax = white_range[istart].area[i].right - white_range[istart].area[i].left;
                jselect = i;
            }
        road_f = find_f(white_range[istart].area[jselect].connect_num);
    }

    //现在我们已经得到了赛道所在连通域父节点编号，接下来把所有父节点编号是road_f的所有白条子扔进赛道数组就行了
    for (int i = istart; i >= iend; i--)
    {
        //变量保存，避免之后写的冗杂且低效
        twhite_range = &white_range[i];
        tmy_road = &my_road[i];
        while_range_num = twhite_range->num;
        tmy_road->white_num = 0;
        roud_while_range_num = 0;
        for (int j = 1; j <= while_range_num; j++)
        {
            if (find_f(twhite_range->area[j].connect_num) == road_f)
            {
                top_road = i;
                tmy_road->white_num++; roud_while_range_num++;
                tmy_road->connected[roud_while_range_num].left = twhite_range->area[j].left;
                tmy_road->connected[roud_while_range_num].right = twhite_range->area[j].right;
                tmy_road->connected[roud_while_range_num].width = twhite_range->area[j].right - twhite_range->area[j].left;

            }
        }
    }
}

////////////////////////////////////////////
//功能：返回相连下一行白条子编号
//输入：i_start起始行  j_start白条标号
//输出：白条标号
//备注：认为下一行与本行赛道重叠部分对多的白条为选定赛道
///////////////////////////////////////////
uint8_t find_continue(uint8_t i_start, uint8_t j_start)
{
    uint8_t j_return;
    uint8_t j;
    uint8_t width_max = 0;
    uint8_t width_new = 0;
    uint8_t left = 0;
    uint8_t right = 0;
    uint8_t dright, dleft, uright, uleft;

    uint8_t upmidline[10];
    uint8_t width[10];
    uint8_t midD_value_min = 100;
    uint8_t t = 0;
    j_return = MISS;//如果没找到，输出255
    if (j_start > my_road[i_start].white_num)
        return MISS;
    //选一个重叠最大的
    for (j = 1; j <= my_road[i_start - 1].white_num; j++)
    {
        dleft = my_road[i_start].connected[j_start].left;
        dright = my_road[i_start].connected[j_start].right;
        uleft = my_road[i_start - 1].connected[j].left;
        uright = my_road[i_start - 1].connected[j].right;
        if (//相连
            dleft < uright
            &&
            dright > uleft
            )
        {
            //计算重叠大小
            if (dleft < uleft) left = uleft;
            else left = dleft;

            if (dright > uright) right = uright;
            else right = dright;

            width_new = right - left + 1;
            //
            width[j] = width_new;
            upmidline[j] = (uleft + uright) / 2;
            if (abs(upmidline[j] - 94) < midD_value_min)
            {
                midD_value_min = abs(upmidline[j] - 94);
                t = j;
            }
            //
            if (width_new > width_max)
            {
                width_max = width_new;
                j_return = j;
            }
        }

    }
    if (j_return != t && width[t] >= 15)
    {
        j_return = t;
    }
    return j_return;
    /*uint8_t j_return;
    uint8_t j;
    uint8_t width_max = 0;
    uint8_t width_new = 0;
    uint8_t left = 0;
    uint8_t right = 0;
    uint8_t dright, dleft, uright, uleft;
    j_return = MISS;//如果没找到，输出255
    if (j_start > my_road[i_start].white_num)
        return MISS;
    //选一个重叠最大的
    for (j = 1; j <= my_road[i_start - 1].white_num; j++)
    {
        dleft = my_road[i_start].connected[j_start].left;
        dright = my_road[i_start].connected[j_start].right;
        uleft = my_road[i_start - 1].connected[j].left;
        uright = my_road[i_start - 1].connected[j].right;
        if (//相连
            dleft < uright
            &&
            dright > uleft
            )
        {
            //计算重叠大小
            if (dleft < uleft) left = uleft;
            else left = dleft;

            if (dright > uright) right = uright;
            else right = dright;

            width_new = right - left + 1;

            if (width_new > width_max)
            {
                width_max = width_new;
                j_return = j;
            }
        }

    }
    return j_return;*/
}

////////////////////////////////////////////
//功能：通用决定双边
//输入：
//输出：
//备注：
///////////////////////////////////////////
void ordinary_two_line(void)
{
    uint8_t i;
    uint8_t j;
    //第一条连通路径
    uint8_t i_start;
    uint8_t i_end;
    uint8_t j_start = MISS;
    int width_max;

    //寻找起始行最宽的白条子
    i_start = NEAR_LINE;
    i_end = FAR_LINE;
    width_max = 0;
    for (j = 1; j <= my_road[i_start].white_num; j++)
    {
        if (my_road[i_start].connected[j].width > width_max)
        {
            width_max = my_road[i_start].connected[j].width;
            j_start = j;
        }
    }
    j_continue[i_start] = j_start;

    //记录连贯区域编号
    for (i = i_start; i > i_end; i--)
    {
        //如果相连编号大于该行白条数，非正常，从此之后都MISS
        if (j_continue[i] > my_road[i].white_num)
        {
            j_continue[i - 1] = MISS;
        }
        else
        {
            j_continue[i - 1] = find_continue(i, j_continue[i]);
        }

    }

    //全部初始化为MISS
    my_memset(left_line, MISS, CAMERA_H);
    my_memset(right_line, MISS, CAMERA_H);
    for (i = i_start; i > i_end; i--)
    {
        if (j_continue[i] <= my_road[i].white_num)
        {
            left_line[i] = my_road[i].connected[j_continue[i]].left;
            right_line[i] = my_road[i].connected[j_continue[i]].right;
            //IMG[i][left_line[i]] = red;
            //IMG[i][right_line[i]] = blue;
        }
        else
        {
            left_line[i] = MISS;
            right_line[i] = MISS;
            //IMG[i][left_line[i]] = blue;
            //IMG[i][right_line[i]] = red;
        }
    }

}

////////////////////////////////////////////
//功能：数组初始化
//输入：uint8_t* ptr 数组首地址, uint8_t num初始化的值, uint8_t size数组大小
//输出：
//备注：因为k66库中认为memset函数不安全，所以无法使用；因此需要自己写一个my_memset
///////////////////////////////////////////
void my_memset(uint8_t* ptr, uint8_t num, uint8_t size)
{
    uint8_t* p = ptr;
    uint8_t my_num = num;
    uint8_t Size = size;
    for (int i = 0; i < Size; i++, p++)
    {
        *p = my_num;
    }
}

////////////////////////////////////////////
//功能：中线合成
//输入：左右边界
//输出：中线
//备注：
///////////////////////////////////////////
void get_mid_line(void)
{
    my_memset(mid_line, MISS, CAMERA_H);
    for(int i = NEAR_LINE;i >= FAR_LINE;i--)
    {
        if(left_line != MISS){
            mid_line[i] = (left_line[i] + right_line[i])/2;
        }else {
            mid_line[i] = MISS;
        }

    }
//        if (my_road[i].white_num != 0)
//        {
//            mid_line[i] = (left_line[i] + right_line[i]) / 2;
//        }
//        else if(my_road[i].white_num == 0)
//        {
//            //printf("miss=%d\n", i);
//            mid_line[i] = mid_line[i + 1];
//        }

}

////////////////////////////////////////////
//功能：图像处理主程序
//输入：
//输出：
//备注：
///////////////////////////////////////////
void image_main()
{
    int wayThreshold = 0;
    switch (wayThreshold) {
    case 0:break;
    case 1:OTSU();
        break;
    case 2:part_OUST();
        break;
    case 3:iteration();
        break;
    }
    //distortion();
    THRE(wayThreshold);
    ////printf("threshold=%d", threshold);
    //IPM_map();
    //decide_miss();
    //head_clear();
    search_white_range();
    find_all_connect();
    find_road();
    /*到此处为止，我们已经得到了属于赛道的结构体数组my_road[CAMERA_H]*/
    ordinary_two_line();
    //judge_type_road();
    for (int i = NEAR_LINE; i > FAR_LINE; i--)
    {
        IMG[i][left_line[i]] = red;
        IMG[i][right_line[i]] = blue;
    }
    get_mid_line();

    for (int i = NEAR_LINE; i >= FAR_LINE; i--)
        if (mid_line[i] != MISS)
            IMG[i][mid_line[i]] = green;

    test_varible[12] = state;
    test_varible[0] = mid_line[70];

}

////////////////////////////////////////////
//功能：道路类型判断
//输入：
//输出：
//备注：初判断应该会出现很多混淆，之后会进行类似元素的单独判断
///////////////////////////////////////////
void judge_type_road() {

//    //printf("@@state=%d@@\n", state);

    //十字
    /*if (state == stateStart) {
        cross_in();
    }*/

    // 斜十字

    //三叉
    if (state == stateStart) {
        folk_road_in();
    }
    if (state == stateFolkRoadIn) {
        folk_road_out();
        design_folkroad_in();
    }

/*//环岛

    if (state == stateStart) {
        if (flagJumpPoint / 0x10 == 0) {
            island_start(RIGHT);
            islandtype = RIGHT;
        }
        else if (flagJumpPoint % 0x10 == 0) {
            island_start(LEFT);
            islandtype = LEFT;
        }
    }
    //  //printf("state=%d\n", state);
        //stateUsed = state;
    if (state == stateIsland
        //&& check_state()
        ) {
        if (flagJumpPoint / 0x10 == 0) {
            island_ing(RIGHT);
            design_island_start(RIGHT);
        }
        else if (flagJumpPoint % 0x10 == 0) {
            island_ing(LEFT);
            design_island_start(LEFT);
        }
    }
    //  //printf("state=%d\n", state);
    if (state == stateIsland1
            //&& check_state()
        ) {
        if (flagJumpPoint / 0x10 == 0) {
            design_island_ing(RIGHT);
            island_turn(RIGHT);
        }
        else if (flagJumpPoint % 0x10 == 0) {
            design_island_ing(LEFT);
            island_turn(LEFT);
        }
    }
    //  //printf("state=%d\n", state);
        ////printf("laststate=%d,state=%d\n", lastState, state);
        //入环岛
    if (state == stateIsland2
    )
    {
        int ySharpRight = 119;
        int ySharpLeft = 119;
        int ySharpLeft1 = 119;
        int ySharpRight1 = 119;
            for (int i = 35; i <= 85; i++) {
            if (right_line[i + 1] - right_line[i] >= 45 && my_road[i + 1].white_num == 1 && my_road[i].white_num == 2) {
                ySharpRight = i;
            }
            if (left_line[i + 1] - left_line[i] <= -40 && my_road[i + 1].white_num == 1 && my_road[i].white_num == 2) {
                ySharpLeft = i;
            }
            if (right_line[i + 1] - right_line[i] < -20) {
                ySharpRight1 = i;
            }
            if (left_line[i + 1] - left_line[i] > 20) {
                ySharpLeft1 = i;
            }
        }

            ////printf("ySharpleft=%d,,ySharpright=%d,k=%f\n", ySharpLeft, ySharpRight, calculate_slope(ySharpRight - 10, ySharpRight, LEFT));
        if (lastState == 0 || lastState == RIGHT) {
            if (35 <= ySharpRight && ySharpRight <= 85 && ySharpLeft == 119 && calculate_slope(ySharpRight - 10, ySharpRight, LEFT) >= -0.5) {
                design_island_turn(RIGHT);
            }
        }
        else if (lastState == 0 || lastState == LEFT) {
            if (35 <= ySharpLeft && ySharpLeft <= 85 && calculate_slope(ySharpLeft, ySharpLeft - 10, RIGHT) <= 0.5 && ySharpRight == 119) {
                design_island_turn(LEFT);
            }
        }
    }
        ////printf("state=%d\n", state);

    //出环岛
    if (state == stateIsland2) {
        island_out(islandtype);
    }

    if (state == stateIsland3) {
        island_out_straight(islandtype);
        design_island_out(islandtype);

    }
    if (state == stateIsland4) {
        island_straight(islandtype);
        design_island_final(islandtype);
    }

    //printf("@@state=%d@@\n", state);




    //十字回环
    if (state == stateStart) {
        cross_circle_in();
    }

    if (state == stateCrossCircleIn) {
        cross_circle_ing();
        design_cross_circle_in();
    }*/

    //printf("@@state=%d@@\n", state);

    //车库
    if(state == stateStart){
        carPark_in();
    }

    if(state == stateCarPark)
    {
        flagStop = 1;
    }
}

////////////////////////////////////////////
//功能：局部跳跃点寻找
//输入：范围
//输出：条约点
//备注：
///////////////////////////////////////////
void find_part_jumppoint(int yStart, int yEnd, int type) {
    int delta = 3;
    int num = 0;

    for (int i = yStart; i <= yEnd; i++) {
        if (type == RIGHT) {
            if (right_line[i + 1] - right_line[i] > delta && right_line[i + 2] - right_line[i] > delta
                && my_road[i + 2].connected[j_continue[i + 2]].width - my_road[i].connected[j_continue[i]].width > 10 && my_road[i + 1].connected[j_continue[i + 1]].width - my_road[i].connected[j_continue[i]].width > 10
                && right_line[i - 1] - right_line[i] < delta && right_line[i - 2] - right_line[i] < delta
                && my_road[i - 2].connected[j_continue[i - 2]].width - my_road[i].connected[j_continue[i]].width < 3 && my_road[i - 1].connected[j_continue[i - 1]].width - my_road[i].connected[j_continue[i]].width < 3
                ) {
                partJumpPoint[num].y = i;
                partJumpPoint[num].x = right_line[i];
                partJumpPoint[num].type = RIGHT;
                partJumpPoint[num].direction = 01;
                num++;
            }
            if (right_line[i + 1] - right_line[i] < -1 * delta && right_line[i + 2] - right_line[i] - 1 * delta
                && my_road[i + 2].connected[j_continue[i + 2]].width - my_road[i].connected[j_continue[i]].width < -5 && my_road[i + 1].connected[j_continue[i + 1]].width - my_road[i].connected[j_continue[i]].width < -5
                && right_line[i - 1] - right_line[i] < delta && right_line[i - 2] - right_line[i] < delta
                && my_road[i - 2].connected[j_continue[i - 2]].width - my_road[i].connected[j_continue[i]].width < 3 && my_road[i - 1].connected[j_continue[i - 1]].width - my_road[i].connected[j_continue[i]].width < 3
                ) {
                partJumpPoint[num].y = i;
                partJumpPoint[num].x = right_line[i];
                partJumpPoint[num].type = RIGHT;
                partJumpPoint[num].direction = 00;
                num++;
            }
            if (right_line[i - 1] - right_line[i] > delta && right_line[i - 2] - right_line[i] > delta
                && my_road[i - 2].connected[j_continue[i - 2]].width - my_road[i].connected[j_continue[i]].width > 10 && my_road[i - 1].connected[j_continue[i - 1]].width - my_road[i].connected[j_continue[i]].width > 10
                && right_line[i + 1] - right_line[i] < delta && right_line[i + 2] - right_line[i] < delta
                && my_road[i + 2].connected[j_continue[i + 2]].width - my_road[i].connected[j_continue[i]].width < 3 && my_road[i + 1].connected[j_continue[i + 1]].width - my_road[i].connected[j_continue[i]].width < 3
                ) {
                partJumpPoint[num].y = i;
                partJumpPoint[num].x = right_line[i];
                partJumpPoint[num].type = RIGHT;
                partJumpPoint[num].direction = 11;
            }
            if (right_line[i - 1] - right_line[i] < -1 * delta && right_line[i - 2] - right_line[i] - 1 * delta
                && my_road[i - 2].connected[j_continue[i - 2]].width - my_road[i].connected[j_continue[i]].width < -5 && my_road[i - 1].connected[j_continue[i - 1]].width - my_road[i].connected[j_continue[i]].width < -5
                && right_line[i + 1] - right_line[i] < delta && right_line[i + 2] - right_line[i] < delta
                && my_road[i + 2].connected[j_continue[i + 2]].width - my_road[i].connected[j_continue[i]].width < 3 && my_road[i + 1].connected[j_continue[i + 1]].width - my_road[i].connected[j_continue[i]].width < 3
                ) {
                partJumpPoint[num].y = i;
                partJumpPoint[num].x = right_line[i];
                partJumpPoint[num].type = RIGHT;
                partJumpPoint[num].direction = 10;
                num++;
            }
        }
        else if (type == LEFT) {
            if (left_line[i + 1] - left_line[i] > delta && left_line[i + 2] - left_line[i] > delta
                && my_road[i + 2].connected[j_continue[i + 2]].width - my_road[i].connected[j_continue[i]].width > 10 && my_road[i + 1].connected[j_continue[i + 1]].width - my_road[i].connected[j_continue[i]].width > 10
                && left_line[i - 1] - left_line[i] < delta && left_line[i - 2] - left_line[i] < delta
                && my_road[i - 2].connected[j_continue[i - 2]].width - my_road[i].connected[j_continue[i]].width < 3 && my_road[i - 1].connected[j_continue[i - 1]].width - my_road[i].connected[j_continue[i]].width < 3
                ) {
                partJumpPoint[num].y = i;
                partJumpPoint[num].x = left_line[i];
                partJumpPoint[num].type = LEFT;
                partJumpPoint[num].direction = 01;
                num++;
            }
            if (left_line[i + 1] - left_line[i] < -1 * delta && left_line[i + 2] - left_line[i] - 1 * delta
                && my_road[i + 2].connected[j_continue[i + 2]].width - my_road[i].connected[j_continue[i]].width < -5 && my_road[i + 1].connected[j_continue[i + 1]].width - my_road[i].connected[j_continue[i]].width < -5
                && left_line[i - 1] - left_line[i] < delta && left_line[i - 2] - left_line[i] < delta
                && my_road[i - 2].connected[j_continue[i - 2]].width - my_road[i].connected[j_continue[i]].width < 3 && my_road[i - 1].connected[j_continue[i - 1]].width - my_road[i].connected[j_continue[i]].width < 3
                ) {
                partJumpPoint[num].y = i;
                partJumpPoint[num].x = left_line[i];
                partJumpPoint[num].type = LEFT;
                partJumpPoint[num].direction = 00;
                num++;
            }
            if (left_line[i - 1] - left_line[i] > delta && left_line[i - 2] - left_line[i] > delta
                && my_road[i - 2].connected[j_continue[i - 2]].width - my_road[i].connected[j_continue[i]].width > 10 && my_road[i - 1].connected[j_continue[i - 1]].width - my_road[i].connected[j_continue[i]].width > 10
                && left_line[i + 1] - left_line[i] < delta && left_line[i + 2] - left_line[i] < delta
                && my_road[i + 2].connected[j_continue[i + 2]].width - my_road[i].connected[j_continue[i]].width < 3 && my_road[i + 1].connected[j_continue[i + 1]].width - my_road[i].connected[j_continue[i]].width < 3
                ) {
                partJumpPoint[num].y = i;
                partJumpPoint[num].x = left_line[i];
                partJumpPoint[num].type = LEFT;
                partJumpPoint[num].direction = 11;
            }
            if (left_line[i - 1] - left_line[i] < -1 * delta && left_line[i - 2] - left_line[i] - 1 * delta
                && my_road[i - 2].connected[j_continue[i - 2]].width - my_road[i].connected[j_continue[i]].width < -5 && my_road[i - 1].connected[j_continue[i - 1]].width - my_road[i].connected[j_continue[i]].width < -5
                && left_line[i + 1] - left_line[i] < delta && left_line[i + 2] - left_line[i] < delta
                && my_road[i + 2].connected[j_continue[i + 2]].width - my_road[i].connected[j_continue[i]].width < 3 && my_road[i + 1].connected[j_continue[i + 1]].width - my_road[i].connected[j_continue[i]].width < 3
                ) {
                partJumpPoint[num].y = i;
                partJumpPoint[num].x = left_line[i];
                partJumpPoint[num].type = LEFT;
                partJumpPoint[num].direction = 10;
                num++;
            }
        }

    }
}

////////////////////////////////////////////
//功能：斜率特征提取
//输入：
//输出：y为分母的斜率
//备注：最小二乘法
///////////////////////////////////////////
double calculate_slope(int start, int end, int type) {

    double ySum = 0;
    double y2Sum = 0;
    double xSum = 0;
    double xySum = 0;
    int num = end - start + 1;
    if (end >= 109) {
        end = 109;
    }
    if (start <= 0) {
        start = 0;
    }

    for (int i = start; i <= end; i++) {
        if (right_line[i] == left_line[i]) {
            type = 0;
        }
    }

    if (type == 1) {
        for (int i = start; i <= end; i++) {
            xSum += left_line[i];
            ySum += i;
            y2Sum += i * i;
            xySum += i * left_line[i];
        }
        if ((num * y2Sum - ySum * ySum) != 0) {
            double leftSlope = (double)(num * xySum - xSum * ySum) / (num * y2Sum - ySum * ySum);
            return leftSlope;
        }
        else {
            return 0;
        }
    }
    else if (type == -1) {
        for (int i = start; i <= end; i++) {
            xSum += right_line[i];
            ySum += i;
            y2Sum += i * i;
            xySum += i * right_line[i];
        }
        if ((num * y2Sum - ySum * ySum) != 0) {
            double rightSlope = (double)(num * xySum - xSum * ySum) / (num * y2Sum - ySum * ySum);
            return rightSlope;
        }
        else {
            return 0;
        }
    }
    else if (type == 0) {
        return MISSHAPPEN;
    }


}

////////////////////////////////////////////
//功能：斜率特征提取
//输入：
//输出：
//备注：两点连线
///////////////////////////////////////////
double calculate_slope_two_point(int yStart, int startType, int yEnd, int endType) {
    int xStart;
    int xEnd;
    double k;

    if (startType == LEFT) {
        xStart = left_line[yStart];
    }
    else if (startType == RIGHT) {
        xStart = right_line[yStart];
    }
    if (endType == LEFT) {
        xEnd = left_line[yEnd];
    }
    else if (endType == RIGHT) {
        xEnd = right_line[yEnd];
    }

    if ((yEnd - yStart) != 0) {
        k = (double)(xEnd - xStart) / (double)(yEnd - yStart);
    }
    else {
        k = 0;
    }

    return k;

 }

////////////////////////////////////////////
//功能：方差
//输入：
//输出：
//备注：1表示左边线，-1表示右边线，
///////////////////////////////////////////
double variance(int yStart, int yEnd, int type) {

    int xSum = 0;
    int ySum = 0;
    int x[CAMERA_H];
    double xAverange = 0;
    double x2Delta = 0;
    double D;

    if (type == LEFT) {
        for (int i = yStart; i <= yEnd; i++) {
            x[i - yStart] = left_line[i];
            xSum += left_line[i];
        }
    }
    else if (type == RIGHT) {
        for (int i = yStart; i <= yEnd; i++) {
            x[i - yStart] = right_line[i];
            xSum += right_line[i];
        }
    }

    xAverange = (double)xSum / (yEnd - yStart + 1);

    for (int i = yStart; i < yEnd; i++) {
        x2Delta += (x[i - yStart] - xAverange) * (x[i - yStart] - xAverange);
    }

    D = x2Delta / (yEnd - yStart + 1);
    return D;
}

////////////////////////////////////////////
//功能：寻找突变点
//输入：
//输出：四个突变点
//备注：尖锐点也是突变点
///////////////////////////////////////////
int find_jump_point() {

    leftDownJumpPoint = 119;
    leftUpJumpPoint = 119;
    rightDownJumpPoint = 119;
    rightUpJumpPoint = 119;
    uint8_t delta = 4;

    //判断方法是寻找上一个上两个点的位置变化比较大的点且白条数有明显增大的数
    /*int i;
    for (i = 99; i > 65; i--) {
        if ((left_line[i - 1] - left_line[i] < -1 * delta && my_road[i - 1].connected[j_continue[i - 1]].width > my_road[i].connected[j_continue[i]].width + 5)
            && (left_line[i - 2] - left_line[i] < -1 * delta && my_road[i - 2].connected[j_continue[i - 2]].width > my_road[i].connected[j_continue[i]].width + 5)) {
            leftDownJumpPoint = i;
            break;
        }

    }
    for (i = 99; i > 65; i--) {
        if ((right_line[i - 1] - right_line[i] > delta && my_road[i - 1].connected[j_continue[i - 1]].width > my_road[i].connected[j_continue[i]].width + 5)
            && (right_line[i - 2] - right_line[i] > delta && my_road[i - 2].connected[j_continue[i - 2]].width > my_road[i].connected[j_continue[i]].width + 5)) {
            rightDownJumpPoint =  i;
            break;
        }
    }
    for (i = 35; i < 99; i++) {
        if ((left_line[i + 1] - left_line[i] < -1*delta && my_road[i + 1].connected[j_continue[i + 1]].width > my_road[i].connected[j_continue[i]].width + 5)
            && (left_line[i + 2] - left_line[i] < -1*delta && my_road[i + 2].connected[j_continue[i + 2]].width > my_road[i].connected[j_continue[i]].width + 5)) {
            leftUpJumpPoint = i;
            break;
        }
    }
    for (i = 35; i < 99; i++) {
        if ((right_line[i + 1] - right_line[i] < -1*delta && my_road[i + 1].connected[j_continue[i + 1]].width > my_road[i].connected[j_continue[i]].width + 5)
            && (right_line[i + 2] - right_line[i] < -1*delta && my_road[i + 2].connected[j_continue[i + 2]].width > my_road[i].connected[j_continue[i]].width + 5)) {
            rightUpJumpPoint =(-1)* i;
            break;
        }
    }*/

    for (int i = 108; i > 65; i--) {
        int sum = 0;
        int averange = 0;
        int deltaAverange = 0;
        for (int j = 108; j > i; j--) {
            sum += left_line[j] - left_line[j - 1];
        }

        if (108 - i != 0) {
            averange = sum / (108 - i);
        }

        if (averange < 0) {
            deltaAverange = averange - delta;
        }
        else if (averange >= 0) {
            deltaAverange = averange + delta;
        }

        if (left_line[i] - left_line[i - 1] > deltaAverange && my_road[i - 1].connected[j_continue[i - 1]].width > my_road[i].connected[j_continue[i]].width + 5
            && left_line[i] - left_line[i - 2] > deltaAverange && my_road[i - 2].connected[j_continue[i - 2]].width > my_road[i].connected[j_continue[i]].width + 5
            ) {
            if (left_line[i] > 45 && left_line[i] < 120) {
                leftDownJumpPoint = i;
            }
            break;
        }
    }

    for (int i = 108; i > 65; i--) {
        int sum = 0;
        int averange = 0;
        int deltaAverange = 0;
        for (int j = 108; j > i; j--) {
            sum += right_line[j] - right_line[j - 1];
        }

        if (108 - i != 0) {
            averange = sum / (108 - i);
        }

        if (averange < 0) {
            deltaAverange = averange - delta;
        }
        else if (averange >= 0) {
            deltaAverange = averange + delta;
        }

        if (right_line[i] - right_line[i - 1] < deltaAverange && my_road[i - 1].connected[j_continue[i - 1]].width > my_road[i].connected[j_continue[i]].width + 5
            && right_line[i] - right_line[i - 2] < deltaAverange && my_road[i - 2].connected[j_continue[i - 2]].width > my_road[i].connected[j_continue[i]].width + 5
            ) {
            if (right_line[i] < 150 && right_line[i]>55) {
                rightDownJumpPoint = i;
            }
            break;
        }
    }


    for (int i = 55; i < 110; i++) {
        int sum = 0;
        int averange = 0;
        int deltaAverange = 0;
        for (int j = 55; j < i; j++) {
            sum += left_line[j] - left_line[j + 1];
        }

        if (i - 55 != 0) {
            averange = sum / (i - 55);
        }

        if (averange < 0) {
            deltaAverange = averange - delta;
        }
        else if (averange >= 0) {
            deltaAverange = averange + delta;
        }

        if (left_line[i] - left_line[i + 1] > deltaAverange && my_road[i + 1].connected[j_continue[i + 1]].width > my_road[i].connected[j_continue[i]].width + 5
            && left_line[i] - left_line[i + 2] > deltaAverange && my_road[i + 2].connected[j_continue[i + 2]].width > my_road[i].connected[j_continue[i]].width + 5
            ) {
            if (left_line[i] > 30 && left_line[i] < 145) {
                leftUpJumpPoint = i;
            }
            break;
        }
    }
    for (int i = 55; i < 110; i++) {
        int sum = 0;
        int averange = 0;
        int deltaAverange = 0;
        for (int j = 55; j < i; j++) {
            sum += right_line[j] - right_line[j + 1];
        }

        if (i - 55 != 0) {
            averange = sum / (i - 55);
        }

        if (averange < 0) {
            deltaAverange = averange - delta;
        }
        else if (averange >= 0) {
            deltaAverange = averange + delta;
        }

        if (right_line[i] - right_line[i + 1] < deltaAverange && my_road[i + 1].connected[j_continue[i + 1]].width > my_road[i].connected[j_continue[i]].width + 5
            && right_line[i] - right_line[i + 2] < deltaAverange && my_road[i + 2].connected[j_continue[i + 2]].width > my_road[i].connected[j_continue[i]].width + 5
            ) {
            if (right_line[i] < 165 && right_line[i]>45) {
                rightUpJumpPoint = i;
            }

            break;
        }
    }

    int flag = 0;//00    00    00    00      01向右突变，10向左突变
                 //左上  左下  右上  右下


    if ( 65 < leftDownJumpPoint && leftDownJumpPoint < NEAR_LINE) {
        flag += 32;
    }
    else if ((-1) * NEAR_LINE < leftDownJumpPoint && leftDownJumpPoint < -65) {
        flag += 16;
    }

    if (65 < rightDownJumpPoint && rightDownJumpPoint < NEAR_LINE) {
        flag += 1;
    }
    else if ((-1) * NEAR_LINE < rightDownJumpPoint && rightDownJumpPoint < -65) {
        flag += 2;
    }

    if (30 < leftUpJumpPoint && leftUpJumpPoint < 80) {
        flag += 128;
    }
    else if (-80 < leftUpJumpPoint && leftUpJumpPoint < -30) {
        flag += 64;
    }

    if (30 < rightUpJumpPoint && rightUpJumpPoint < 80) {
        flag += 4;
    }
    else if (-80 < rightUpJumpPoint && rightUpJumpPoint < -30) {
        flag += 8;
    }

    return flag;
}

////////////////////////////////////////////
//功能：补线
//输入：
//输出：
//备注：1为左边，-1为右边
///////////////////////////////////////////
void design_straight_route(int y_start, int y_end,int type) {
    int myLeftSide[CAMERA_H];
    int myRightSide[CAMERA_H];
    for (int i = 30; i < 109; i++) {
        myLeftSide[i] = left_line[i];
        myRightSide[i] = right_line[i];
    }
    for (int i = 30; i < 109; i++) {
        float k = calculate_slope(y_start, y_end, type);
        if (type == 1) {
            myLeftSide[i] = left_line[y_start] - k * (y_start - i);
        }
        else if(type == -1) {
            myRightSide[i] = right_line[y_end] - k * (y_end - i);
        }
    }

    for (int i = 30; i < 109; i++) {
        left_line[i] = myLeftSide[i];
        right_line[i] = myRightSide[i];
        IMG[i][left_line[i]] = blue;
        IMG[i][right_line[i]] = red;
    }
}

////////////////////////////////////////////
//功能：360°弯道
//输入：
//输出：
//备注：
///////////////////////////////////////////
int circle_360() {
    int flag = 1;
    int topRoad = 118;
    //找到道路顶端
    for (int i = 108; i > 10; i--) {
        if (my_road[i].white_num == 1 && my_road[i - 1].white_num == 0) {
            topRoad = i;
            break;
        }
    }
    //这是弯道判据，对十字中的大弯的判据
    //判据一：只有一条通路
    int sum = 0;
    for (int i = 108; i >= topRoad; i--) {
        if (my_road[i].white_num > 1) {
            sum++;
        }
    }
    double p = sum / (108 - topRoad);

    if (p > 0.1) {
        flag = 0;
    }
//    //printf("f1=%d\n", flag);
    //判据二：往一个方向拐
    if (turnWhere == RIGHT) {
        for (int i = 108; i >= topRoad; i--) {
            if (left_line[i] - left_line[i + 1] < -1) {
                flag = 0;
            }
        }
    }
    else if (turnWhere == LEFT) {
        for (int i = 108; i >= topRoad; i--) {
            if (right_line[i] - right_line[i + 1] > 1) {
                flag = 0;
            }
        }
    }
//    //printf("f2=%d\n", flag);
    //判据三：没有拐点
    find_jump_point();
//    //printf("ru=%d,rd=%d\n", rightUpJumpPoint, rightDownJumpPoint);
    //判据三：一边miss（并不一定）


    return flag;
}

////////////////////////////////////////////
//功能：进十字路口判断
//输入：
//输出：
//备注：
///////////////////////////////////////////
void cross_in() {
    find_jump_point();
    int flag = 1;

    //判断一：找到拐点
    if (65 >= leftDownJumpPoint || leftDownJumpPoint >= 109
        || 65 >= rightDownJumpPoint || rightDownJumpPoint >= 109
        || 35 > leftUpJumpPoint || leftUpJumpPoint >= 90
        || 35 > leftUpJumpPoint || leftUpJumpPoint >= 90) {
        flag = 0;
    }

    //判断二：对边平行
    ////printf("rd=%d,lu=%d\nld=%d,ru=%d\n", rightDownJumpPoint, leftUpJumpPoint, leftDownJumpPoint, rightUpJumpPoint);
    ////printf("rdl=%f,lul=%f\nldl=%f,rul=%f\n", calculate_slope(rightDownJumpPoint, rightDownJumpPoint + 5, RIGHT), calculate_slope(leftUpJumpPoint - 5, leftUpJumpPoint, LEFT), calculate_slope(leftDownJumpPoint, leftDownJumpPoint + 5, LEFT), calculate_slope(rightUpJumpPoint - 5, rightUpJumpPoint, RIGHT));
    ////printf("n=%d,j=%d", my_road[5].white_num, j_continue[5]);



    if (flag == 1) {
        if (lastTwoState == 0 && lastState == 0) {
            lastTwoState = 1;
        }
        else if (lastTwoState == 1 && lastState == 0) {
            lastState = 1;
        }
        else if (lastState == 1 && lastTwoState == 1) {
            state = stateInCrossStraight;
            lastState = 0;
            lastTwoState = 0;
        }
        else {
            lastState = 0;
            lastTwoState = 0;
        }
    }
    else if (flag == 0) {
        lastState = 0;
        lastTwoState = 0;
    }




}

////////////////////////////////////////////
//功能：环岛开始
//输入：
//输出：
//备注：是否进入环岛
///////////////////////////////////////////
void island_start(int type) {
    int flag = 1;
    int numLongWhite = 0;
    int i;
//  //printf("right=%d,", rightUpJumpPoint);
//  一边是直线是个非常重要的事情，直线可以展示以下几个性质：
//  拐弯的方向，小车与道路之间的关系
//
    //寻找直线
    for (int i = 119; i > 10; i--) {

    }
    //判断一：有两个突变，长白条有很多,
    if (type == RIGHT) {
        for (i = 0; i < 10; i++) {
            if (rightDownJumpPoint - i > rightUpJumpPoint) {
                if (my_road[rightDownJumpPoint - i].connected[j_continue[rightDownJumpPoint - i]].width - my_road[rightDownJumpPoint].connected[j_continue[rightDownJumpPoint]].width > 15) {
                    numLongWhite++;
                }
                else {
                    break;
                }
            }
        }
        if ((float)numLongWhite / i < 0.8) {
            flag = 0;
        }

        for (i = 0; i < 10; i++) {
            if (rightUpJumpPoint - i < 0) {
                flag = 0;
                break;
            }
            if (my_road[rightUpJumpPoint - i].connected[j_continue[rightDownJumpPoint - i]].width > my_road[rightUpJumpPoint].connected[j_continue[rightUpJumpPoint]].width) {
                flag = 0;
            }
        }
        if (my_road[rightUpJumpPoint - 1].white_num < 2 || my_road[rightUpJumpPoint - 2].white_num < 2) {
            flag = 0;
        }

        ////printf("flag1=%d\n", flag);

        //判断二：斜率不同
        //
        if ( flag == 1 && calculate_slope(rightUpJumpPoint - 10, rightUpJumpPoint, RIGHT) - calculate_slope(rightDownJumpPoint, rightDownJumpPoint + 10, RIGHT) < 1) {
            flag = 0;
        }
        ////printf(" flag2=%d", flag);
        //判断三：方差相差较大
        if (flag == 1 && variance(rightUpJumpPoint - 10, rightUpJumpPoint, RIGHT) - variance(rightDownJumpPoint, rightDownJumpPoint + 10, RIGHT) < 7) {
            flag = 0;
        }
        //判断四：另一边是直线
        //斜率一致
        if (fabs(calculate_slope(80, 90, LEFT) - calculate_slope(50, 60, LEFT)) > 0.1) {
            flag = 0;
        }
        //另一边没有突变
        for (i = 109; i > 10; i--) {
            if (abs(left_line[i - 1] - left_line[i]) > 5 && abs(left_line[i - 2] - left_line[i]) > 5) {
                flag = 0;
                break;
            }
        }
        ////printf(" flag3=%d\n", flag);

    }
    else if (type == LEFT) {
        for (i = 0; i < 10; i++) {
            if (leftDownJumpPoint - i > leftUpJumpPoint) {
                if (my_road[leftDownJumpPoint - i].connected[j_continue[leftDownJumpPoint - i]].width - my_road[leftDownJumpPoint].connected[j_continue[leftDownJumpPoint]].width > 15) {
                    numLongWhite++;
                }
                else {
                    break;
                }
            }
        }
        if ((float)numLongWhite / i < 0.8) {
            flag = 0;
        }

        //判断二：斜率不同
        ////printf("up=%f,down=%f", variance(rightUpJumpPoint - 10, rightUpJumpPoint, RIGHT), variance(rightDownJumpPoint, rightDownJumpPoint + 10, RIGHT));
        if (flag == 1 && calculate_slope(leftUpJumpPoint - 10, leftUpJumpPoint, LEFT) - calculate_slope(leftDownJumpPoint, leftDownJumpPoint + 10, LEFT) > -1) {
            flag = 0;
        }
        //判断三：方差相差较大
        if (flag == 1 && variance(leftUpJumpPoint - 10, leftUpJumpPoint, LEFT) - variance(leftDownJumpPoint, leftDownJumpPoint + 10, LEFT) < 7) {
            flag = 0;
        }
        //判断四：另一边是直线
        //斜率一致
        if (fabs(calculate_slope(80, 90, RIGHT) - calculate_slope(50, 60, RIGHT)) > 0.1) {
            flag = 0;
        }
        //没有突变
        for (int i = 108; i > 10; i--) {
            if (abs(right_line[i - 1] - right_line[i]) > 5 && abs(right_line[i - 2] - right_line[i]) > 5) {
                flag = 0;
            }
        }

    }
    if (flag == 1) {
        if (lastTwoState == 0 && lastState == 0) {
            lastTwoState = 1;
        }
        else if (lastTwoState == 1 && lastState == 0) {
            lastState = 1;
        }
        else if (lastState == 1 && lastTwoState == 1) {
            state = stateIsland;
            lastState = 0;
            lastTwoState = 0;
        }
        else {
            lastState = 0;
            lastTwoState = 0;
        }
    }
    else if (flag == 0) {
        lastState = 0;
        lastTwoState = 0;
    }
}

////////////////////////////////////////////
//功能：环岛补线
//输入：
//输出：
//备注：走直线
///////////////////////////////////////////
void design_island_start(int type) {

    if (type == RIGHT) {
        double k = calculate_slope(rightDownJumpPoint + 3, rightDownJumpPoint + 10, RIGHT);
        for (int i = rightDownJumpPoint + 3; i > rightDownJumpPoint - 50; i--) {
            right_line[i] = k * (i - (rightDownJumpPoint + 3)) + right_line[rightDownJumpPoint + 3];
        }

    }
    else if (type == LEFT) {
        double k = calculate_slope(leftDownJumpPoint + 3, leftDownJumpPoint + 10, LEFT);
        for (int i = leftDownJumpPoint + 3; i > leftDownJumpPoint - 50; i--) {
            left_line[i] = k * (i - (leftDownJumpPoint + 3)) + left_line[leftDownJumpPoint + 3];
        }
    }
}

////////////////////////////////////////////
//功能：环岛补线
//输入：
//输出：
//备注：入环岛
///////////////////////////////////////////
void design_island_in(int type) {
    int myLeftSide[CAMERA_H];
    int myRightSide[CAMERA_H];

    if (type == RIGHT) {
        double k = calculate_slope_two_point(rightUpJumpPoint, RIGHT, rightDownJumpPoint, LEFT);
        for (int i = rightUpJumpPoint - 55; i <= rightDownJumpPoint; i++) {
            left_line[i] = k * (i - rightDownJumpPoint) + left_line[rightDownJumpPoint];
            right_line[i] = left_line[i] + (right_line[rightDownJumpPoint] - left_line[rightDownJumpPoint]);
        }

    }
    else if (type == LEFT) {
        double k = calculate_slope_two_point(leftUpJumpPoint, LEFT, leftDownJumpPoint, RIGHT);
        for (int i = leftUpJumpPoint - 55; i <= leftUpJumpPoint; i++) {
            right_line[i] = k * (i - leftDownJumpPoint) + right_line[leftDownJumpPoint];
            left_line[i] = right_line[i] + (left_line[leftDownJumpPoint] - right_line[leftDownJumpPoint]);
        }
    }
}

////////////////////////////////////////////
//功能：环岛正中央
//输入：
//输出：
//备注：是否补线
///////////////////////////////////////////
void island_ing(int type) {
    ////printf("jump=%x\n", flagJumpPoint % 0x10);
    if (type == RIGHT) {
        if (flagJumpPoint % 0x10 == 4 || flagJumpPoint % 0x10 == 0) {
            if (state == stateIsland) {
                state = stateIsland1;
            }
        }
    }else if (type == LEFT) {
        if (flagJumpPoint / 0x10 == 4 || flagJumpPoint / 0x10 == 0) {
            if (state == stateIsland) {
                state = stateIsland1;
            }
        }
    }

}

////////////////////////////////////////////
//功能：环岛正中央补线
//输入：
//输出：
//备注：
///////////////////////////////////////////
void design_island_ing(int type) {
    if (type == RIGHT) {
        int i = rightUpJumpPoint;
        if (rightUpJumpPoint == 119 || rightUpJumpPoint < 45) {
            i = 108;
        }
        ////printf("i=%d", i);
        int min = rightUpJumpPoint;
        while (my_road[i].connected[j_continue[i]].width < 75) {
            if (my_road[i - 1].connected[j_continue[i - 1]].width < my_road[i].connected[j_continue[i]].width) {
                min = i;
            }
            i--;
        }
        ////printf("min=%d\n", min);
        int minEnd;
        if (min + 15 > 108) {
            minEnd = 108;
        }
        else{
            minEnd = min + 15;
        }
        double k = calculate_slope(min, minEnd, LEFT);
        for (int j = 108; j > 10; j--) {
            right_line[j] = k * (j - min) + right_line[min];
        }
    }
    else if (type == LEFT) {
        int i = leftUpJumpPoint;
        if (leftUpJumpPoint == 119 || leftUpJumpPoint < 45) {
            i = 108;
        }
        if (leftUpJumpPoint == 119) {
            i = 108;
        }
        int min = leftUpJumpPoint;
        while (my_road[i].connected[j_continue[i]].width < 75) {
            if (my_road[i - 1].connected[j_continue[i - 1]].width < my_road[i].connected[j_continue[i]].width) {
                min = i;
            }
            i--;
        }
        double k = calculate_slope(min, min + 15, RIGHT);
        for (int j = 108; j > 10; j--) {
            left_line[j] = k * (j - min) + left_line[min];
        }
    }


}

////////////////////////////////////////////
//功能：环岛拐弯判断
//输入：
//输出：
//备注：
///////////////////////////////////////////
void  island_turn(int type) {

    int flag = 1;
    ////printf("k=%f", variance(rightUpJumpPoint - 10, rightUpJumpPoint, RIGHT) - variance(rightDownJumpPoint, rightDownJumpPoint + 10, RIGHT));
    if (state == stateIsland1) {
        if (type == RIGHT) {
            if (rightDownJumpPoint > 75 || rightUpJumpPoint < 35 || rightUpJumpPoint == 119 || rightDownJumpPoint == 119
                ) {
                flag = 0;
            }
        }
        else if (state == LEFT) {
            if (leftDownJumpPoint > 75 || leftUpJumpPoint < 40 || leftUpJumpPoint == 119 || leftDownJumpPoint == 119
                ) {
                flag = 0;
            }
        }
        if (flag == 1) {
            ////printf("state=%d,laststate=%d,lasttwostate=%d", state, lastState, lastTwoState);
            if (lastTwoState == 0 && lastState == 0) {
                lastTwoState = 1;
            }
            else if (lastTwoState == 1 && lastState == 0) {
                lastState = 1;
            }
            else if (lastTwoState == 1 && lastState == 1) {
                state = stateIsland2;
                lastTwoState = 0;
                lastState = 0;
            }
            else {
                lastState = 0;
                lastTwoState = 0;
            }
        }
        else if (flag == 0) {
            lastState = 0;
            lastTwoState = 0;
        }
    }
}

////////////////////////////////////////////
//功能：环岛拐弯补线
//输入：
//输出：
//备注：
///////////////////////////////////////////
void design_island_turn(int type) {
    ////printf("艹\n");
    int ySharpRight = 119;
    int ySharpLeft = 119;
    int ySharpLeft1 = 119;
    int ySharpRight1 = 119;
    for (int i = 35; i <= 85; i++) {
        if (right_line[i + 1] - right_line[i] > 45 && my_road[i + 1].white_num == 1 && my_road[i].white_num == 2) {
            ySharpRight = i;
        }
        if (left_line[i + 1] - left_line[i] < -40 && my_road[i + 1].white_num == 1 && my_road[i].white_num == 2) {
            ySharpLeft = i;
        }
        if (right_line[i + 1] - right_line[i] < -10) {
            ySharpRight1 = i;
        }
        if (left_line[i + 1] - left_line[i] > 10) {
            ySharpLeft1 = i;
        }
    }
    if (type == RIGHT) {
        double k = calculate_slope_two_point(ySharpRight, RIGHT, 100, LEFT);
        ////printf("ySharp=%d", ySharpRight1);
        int x1 = left_line[ySharpRight];
        int x2 = right_line[ySharpRight];
        for (int i = ySharpRight - 30; i <= 109; i++) {
            left_line[i] = k * (i - ySharpRight) + x2;
            right_line[i] = left_line[i] + 50;
        }
    }
    else if (type == LEFT) {
        double k = calculate_slope_two_point(ySharpLeft, LEFT, 100, RIGHT);
        ////printf("ySharp=%d", ySharpRight1);
        int x1 = left_line[ySharpLeft];
        int x2 = right_line[ySharpLeft];
        for (int i = ySharpLeft - 30; i <= 109; i++) {
            right_line[i] = k * (i - ySharpLeft) + x1;
            right_line[i] = left_line[i] - 50;
        }
    }


}

////////////////////////////////////////////
//功能：出环岛判断
//输入：
//输出：
//备注：
///////////////////////////////////////////
void island_out(int type) {
    int flag = 1;
    int yStart = 35;
    int yEnd = 80;
    jump_point partSharpPoint[CAMERA_H] = {-1};
    int j=0;

    if (type == RIGHT) {
        for (int i = yStart + 1; i < yEnd; i++) {
            if (calculate_slope(i - 10, i, LEFT) > 0 && calculate_slope(i, i + 10, LEFT) < 0 && calculate_slope(i - 10, i, LEFT) != MISSHAPPEN
                && left_line[i - 1] <= left_line[i] && left_line[i + 1] < left_line[i]
                && left_line[i - 5] < left_line[i] && left_line [i + 5] < left_line[i]
                && left_line[i] != 0 && left_line[i - 1] != 0 && left_line[i + 1] != 0
                && left_line[i -2] != 0 && left_line[i + 2] != 0
                ) {
                partSharpPoint[j].y = i;
                partSharpPoint[j].x = left_line[i];
                partSharpPoint[j].type = LEFT;
                partSharpPoint[j].direction = 1;
                j++;

            }
            else if (calculate_slope(i - 10, i, LEFT) < 0 && calculate_slope(i, i + 10, LEFT) > 0 && calculate_slope(i, i + 10, LEFT) != MISSHAPPEN
                && left_line[i - 1] >= left_line[i] && left_line[i + 1] > left_line[i]
                && left_line[i - 5] > left_line[i] && left_line[i + 5] > left_line[i]
                && left_line[i - 1] !=0 && left_line[i + 1] != 0 && left_line[i] != 0
                && left_line[i - 2] != 0 && left_line[i + 2] != 0
                ) {
                partSharpPoint[j].y = i;
                partSharpPoint[j].x = left_line[i];
                partSharpPoint[j].type = LEFT;
                partSharpPoint[j].direction = 2;
                j++;
            }
        }
    }
    else if (type == LEFT) {
        for (int i = yStart + 1; i < yEnd; i++) {
            if (calculate_slope(i - 10, i, RIGHT) > 0 && calculate_slope(i, i + 10, RIGHT) < 0 && calculate_slope(i - 10, i, RIGHT) != MISSHAPPEN
                && right_line[i - 1] <= right_line[i] && right_line[i + 1] < right_line[i]
                && right_line[i - 5] < right_line[i] && right_line[i + 5] < right_line[i]
                && right_line[i - 1] != 0 && right_line[i] != 0 && right_line[i + 1] != 0
                && right_line[i - 2] != 0 && right_line[i + 2] != 0
                ) {
                partSharpPoint[j].y = i;
                partSharpPoint[j].x = right_line[i];
                partSharpPoint[j].type = RIGHT;
                partSharpPoint[j].direction = 1;
                j++;

            }
            else if (calculate_slope(i - 10, i, RIGHT) < 0 && calculate_slope(i, i + 10, RIGHT) > 0 && calculate_slope(i - 10, i, RIGHT) != MISSHAPPEN
                && right_line[i - 1] >= right_line[i] && right_line[i + 1] > right_line[i]
                && right_line[i - 5] > right_line[i] && right_line[i + 5] > right_line[i]
                && right_line[i - 1] != 0 && right_line[i] != 0 && right_line[i + 1] != 0
                && right_line[i - 2] != 0 && right_line[i + 2] != 0
                ) {
                partSharpPoint[j].y = i;
                partSharpPoint[j].x = right_line[i];
                partSharpPoint[j].type = RIGHT;
                partSharpPoint[j].direction = 2;
                j++;
            }
        }
    }
    //法一：最多有三个拐点

    if (j <= 0 || j >= 3) {
        flag = 0;
    }
    ////printf("l=%d,r=%d", left_line[50], right_line[50]);
    ////printf("j=%d,y=%d,x=%d,d=%d\n", j, partSharpPoint[j-1].y,partSharpPoint[j-1].x,partSharpPoint[j-1].direction);
    ////printf("k1=%f,k2=%f", calculate_slope(partSharpPoint[j - 1].y - 10, partSharpPoint[j - 1].y, LEFT), calculate_slope(partSharpPoint[j - 1].y, partSharpPoint[j - 1].y + 10, LEFT));
    ////printf("flag1=%d\n", flag);
    //法二：尖锐点的放线问题
    //法三：白条长度问题
    for (int i = 0; i < j; i++) {
        if (partSharpPoint[i].direction == 2 && partSharpPoint[i].type == LEFT) {
            flag = 0;
        }
        else if (partSharpPoint[i].direction == 1 && partSharpPoint[i].type == RIGHT) {
            flag = 0;
        }
    }
    ////printf("flag2=%d\n", flag);
    for (int i = yStart; i <= yEnd; i++) {
        if (my_road[i].connected[j_continue[i]].width > 80) {
            flag = 0;
        }
    }
    ////printf("flag3=%d\n", flag);

    if (flag == 1) {
        ////printf("state=%d,laststate=%d,lasttwostate=%d", state, lastState, lastTwoState);
        if (lastTwoState == 0 && lastState == 0) {
            lastTwoState = 1;
        }
        else if (lastTwoState == 1 && lastState == 0) {
            lastState = 1;
        }
        else if (lastTwoState == 1 && lastState == 1) {
            state = stateIsland3;
            lastTwoState = 0;
            lastState = 0;
        }
        else {
            lastState = 0;
            lastTwoState = 0;
        }
    }
    else if (flag == 0) {
        lastState = 0;
        lastTwoState = 0;
    }
}

////////////////////////////////////////////
//功能：出环岛补线
//输入：
//输出：
//备注：
///////////////////////////////////////////
void design_island_out(int type) {
    /*int flag = 1;
    int yStart = 35;
    int yEnd = 80;
    jump_point partSharpPoint[CAMERA_H] = { -1 };
    int j = 0;

    if (type == RIGHT) {
        for (int i = yStart + 1; i < yEnd; i++) {
            if (calculate_slope(i - 10, i, LEFT) > 0 && calculate_slope(i, i + 10, LEFT) < 0 && calculate_slope(i - 10, i, LEFT) != MISSHAPPEN
                && left_line[i - 1] <= left_line[i] && left_line[i + 1] < left_line[i]
                && left_line[i - 5] < left_line[i] && left_line[i + 5] < left_line[i]
                && left_line[i] != 0 && left_line[i - 1] != 0 && left_line[i + 1] != 0
                && left_line[i - 2] != 0 && left_line[i + 2] != 0
                ) {
                partSharpPoint[j].y = i;
                partSharpPoint[j].x = left_line[i];
                partSharpPoint[j].type = LEFT;
                partSharpPoint[j].direction = 1;
                j++;

            }
            else if (calculate_slope(i - 10, i, LEFT) < 0 && calculate_slope(i, i + 10, LEFT) > 0 && calculate_slope(i, i + 10, LEFT) != MISSHAPPEN
                && left_line[i - 1] >= left_line[i] && left_line[i + 1] > left_line[i]
                && left_line[i - 5] > left_line[i] && left_line[i + 5] > left_line[i]
                && left_line[i - 1] != 0 && left_line[i + 1] != 0 && left_line[i] != 0
                && left_line[i - 2] != 0 && left_line[i + 2] != 0
                ) {
                partSharpPoint[j].y = i;
                partSharpPoint[j].x = left_line[i];
                partSharpPoint[j].type = LEFT;
                partSharpPoint[j].direction = 2;
                j++;
            }
        }

        double k = calculate_slope(partSharpPoint[j - 1].y, partSharpPoint[j - 1].y + 10, LEFT);
        int delta = right_line[partSharpPoint[j - 1].y] - partSharpPoint[j - 1].x;
        for (int i = 20; i < partSharpPoint[j - 1].y; i++) {
            left_line[i] = k * (i - partSharpPoint[j - 1].y) + partSharpPoint[j - 1].x;
            right_line[i] = left_line[i] + delta;
        }

    }
    else if (type == LEFT) {
        for (int i = yStart + 1; i < yEnd; i++) {
            if (calculate_slope(i - 10, i, RIGHT) > 0 && calculate_slope(i, i + 10, RIGHT) < 0 && calculate_slope(i - 10, i, RIGHT) != MISSHAPPEN
                && right_line[i - 1] <= right_line[i] && right_line[i + 1] < right_line[i]
                && right_line[i - 5] < right_line[i] && right_line[i + 5] < right_line[i]
                && right_line[i - 1] != 0 && right_line[i] != 0 && right_line[i + 1] != 0
                && right_line[i - 2] != 0 && right_line[i + 2] != 0
                ) {
                partSharpPoint[j].y = i;
                partSharpPoint[j].x = right_line[i];
                partSharpPoint[j].type = RIGHT;
                partSharpPoint[j].direction = 1;
                j++;

            }
            else if (calculate_slope(i - 10, i, RIGHT) < 0 && calculate_slope(i, i + 10, RIGHT) > 0 && calculate_slope(i - 10, i, RIGHT) != MISSHAPPEN
                && right_line[i - 1] >= right_line[i] && right_line[i + 1] > right_line[i]
                && right_line[i - 5] > right_line[i] && right_line[i + 5] > right_line[i]
                && right_line[i - 1] != 0 && right_line[i] != 0 && right_line[i + 1] != 0
                && right_line[i - 2] != 0 && right_line[i + 2] != 0
                ) {
                partSharpPoint[j].y = i;
                partSharpPoint[j].x = right_line[i];
                partSharpPoint[j].type = RIGHT;
                partSharpPoint[j].direction = 2;
                j++;
            }
        }
        double k = calculate_slope(partSharpPoint[j - 1].y, partSharpPoint[j - 1].y + 10, RIGHT);
        int delta = right_line[partSharpPoint[j - 1].y] - partSharpPoint[j - 1].x;
        for (int i = 20; i < partSharpPoint[j - 1].y; i++) {
            right_line[i] = k * (i - partSharpPoint[j - 1].y) + partSharpPoint[j - 1].x;
            left_line[i] = right_line[i] - delta;
        }
    }*/
    if (type == RIGHT) {
//        //printf("num=%d", my_road[20].white_num);
        int i = 109;
        int top = 0, yStart = 0;
        while (my_road[i].white_num > 0 && i != 10) {
            if (my_road[i - 1].white_num == 0) {
                top = i;
            }
            i--;
        }
        if (top == 0) {
            top = i;
        }
        i = top;
        while (right_line[i] <= right_line[109]) {
            i++;
        }
        yStart = i;
        ////printf("y=%d", yStart);
        double k = calculate_slope_two_point(yStart, RIGHT, 109, LEFT);
        //////printf("k=%f", k);
        int x1 = left_line[109];
        int delta = right_line[109] - left_line[109];
        for (int i = yStart; i <= 109; i++) {
            left_line[i] = k * (i - 109) + x1;
            right_line[i] = left_line[i] + delta;
        }

    }
    else if (type == LEFT) {
        int i = 109;
        int top, yStart;
        while (my_road[i].white_num > 0 && i != 10) {
            if (my_road[i - 1].white_num == 0) {
                top = i;
            }
            i--;
        }
        if (top == 0) {
            top = i;
        }
        i = top;
        while (left_line[i] > left_line[109]) {
            i++;
        }
        yStart = i;

        double k = calculate_slope_two_point(yStart, LEFT, 109, RIGHT);

        int x1 = right_line[109];
        int delta = right_line[109] - left_line[109];
        for (int i = yStart; i <= 109; i++) {
            right_line[i] = k * (i - 109) + x1;
            left_line[i] = right_line[i] - delta;
        }
    }



}

////////////////////////////////////////////
//功能：出环岛拐弯
//输入：
//输出：
//备注：
///////////////////////////////////////////
void island_out_turn(int type) {

}

////////////////////////////////////////////
//功能：出环岛补线
//输入：
//输出：
//备注：
///////////////////////////////////////////
void design_island_out_turn(int type) {
    if (type == RIGHT) {
        ////printf("r=%d,l=%d", rightDownJumpPoint, leftDownJumpPoint);

        //printf("num=%d", my_road[20].white_num);
        int i = 109;
        int top=0,yStart=0;
        while (my_road[i].white_num > 0) {
            if (my_road[i - 1].white_num == 0) {
                top = i;
            }
            i--;
        }
        i = top;
        while (right_line[i] < right_line[109]) {
            i++;
        }
        yStart = i;

        double k = calculate_slope_two_point(yStart, RIGHT, 109, LEFT);

        int x1 = right_line[yStart];
        int delta = right_line[109] - left_line[109];
        for (int i = yStart; i <= 109; i++) {
            left_line[i] = k * (i - yStart) + x1;
            right_line[i] = left_line[i] + delta;
        }

    }
    else if (type == LEFT) {
        int i = 109;
        int top, yStart;
        while (my_road[i].white_num > 0) {
            if (my_road[i - 1].white_num == 0) {
                top = i;
            }
            i--;
        }
        i = top;
        while (left_line[i] > left_line[109]) {
            i++;
        }
        yStart = i;

        double k = calculate_slope_two_point(yStart, LEFT, 109, RIGHT);

        int x1 = left_line[yStart];
        int delta = right_line[109] - left_line[109];
        for (int i = yStart; i <= 109; i++) {
            right_line[i] = k * (i - yStart) + x1;
            left_line[i] = right_line[i] - delta;
        }
    }
}

////////////////////////////////////////////
//功能：出环岛直线
//输入：
//输出：
//备注：
///////////////////////////////////////////
void island_out_straight(int type) {
    int flag = 1;
    if (type == RIGHT) {
        for (int i = 107; i >= 30; i--) {
            if (left_line[i - 1] < left_line[i] || left_line[i - 2] < left_line[i]
                || left_line[i + 1] > left_line[i] || left_line[i + 2] > left_line[i]
                ){
                flag = 0;
                break;
            }
        }
        //printf("flag1=%d\n", flag);
        if (fabs(calculate_slope(70, 100, LEFT) - calculate_slope(50, 80, LEFT)) > 0.1
            || calculate_slope(70, 100, LEFT) > 0 || calculate_slope(50, 80, LEFT) > 0) {
            flag = 0;
        }
        //printf("flag2=%d\n", flag);
    }
    else if (type == LEFT) {
        for (int i = 100; i >= 30; i--) {
            if (right_line[i - 1] > right_line[i] || right_line[i - 2] > right_line[i]
                || right_line[i + 1] < right_line[i] || right_line[i + 2] < right_line[i]
                ) {
                flag = 0;
            }
        }

        if (fabs(calculate_slope(80, 100, RIGHT) - calculate_slope(40, 60, RIGHT)) < 0.2
            || calculate_slope(80, 100, RIGHT) < 0 || calculate_slope(40, 60, RIGHT) < 0) {
            flag = 0;
        }
    }

    if (flag == 1) {
        ////printf("state=%d,laststate=%d", state, lastState);
        if ( lastState == 0) {
            lastState = 1;
        }

        else if (lastState == 1) {
            state = stateIsland4;
            lastTwoState = 0;
            lastState = 0;
        }
        else {
            lastState = 0;
            lastTwoState = 0;
        }
    }
    else if (flag == 0) {
        lastState = 0;
        lastTwoState = 0;
    }
}

////////////////////////////////////////////
//功能：出环岛走直线
//输入：
//输出：
//备注：
///////////////////////////////////////////
void design_island_final(int type) {
    if (type == RIGHT) {
        double k = calculate_slope(90, 100, LEFT);

        int x = right_line[109];
        for (int i = 109; i > 20; i--) {
            int xi = k * (i - 109) + x;
            if (right_line[i] > xi) {
                right_line[i] = xi;
            }
        }

    }
    else if (type == LEFT) {
        double k = calculate_slope(90, 100, LEFT);

        int x = left_line[109];
        for (int i = 109; i > 20; i--) {
            int xi = k * (i - 109) + x;
            if (left_line[i] < xi) {
                left_line[i] = xi;
            }
        }
    }
}

////////////////////////////////////////////
//功能：是否离开环岛
//输入：
//输出：
//备注：
///////////////////////////////////////////
void island_straight(int type) {
    int flag = 0;
    double k1 = calculate_slope(80, 90, LEFT);
    double k2 = calculate_slope(80, 90, RIGHT);
    if (fabs(k1) - fabs(k2) < 0.2 && fabs(k1) < 0.2 && fabs(k2) < 0.2) {
        flag = 1;
    }
    if (flag == 1) {
        ////printf("state=%d,laststate=%d,lasttwostate=%d", state, lastState, lastTwoState);
        if (lastTwoState == 0 && lastState == 0) {
            lastTwoState = 1;
        }
        else if (lastTwoState == 1 && lastState == 0) {
            lastState = 1;
        }
        else if (lastTwoState == 1 && lastState == 1) {
            state = stateStart;
            lastTwoState = 0;
            lastState = 0;
        }
        else {
            lastState = 0;
            lastTwoState = 0;
        }
    }
    else if (flag == 0) {
        lastState = 0;
        lastTwoState = 0;
    }
}

////////////////////////////////////////////
//功能：是否进入十字回环
//输入：
//输出：
//备注：
///////////////////////////////////////////
void cross_circle_in() {

    int flag = 0;

    //出现突变

    for (int i = NEAR_LINE; i > 10; i--) {
        if ((right_line[i - 1] - right_line[i] >= 5
            && right_line[i - 2] - right_line[i] >= 5
            && abs(left_line[i - 1] - left_line[i]) < 5
            && abs(left_line[i - 2] - left_line[i]) < 5)
            &&(turnWhere == 0 || turnWhere == RIGHT)
            ) {
            flag = 1;
            turnWhere = RIGHT;
            break;
        }

        if ((left_line[i - 1] - left_line[i] <= -5
            && left_line[i - 2] - left_line[i] <= -5
            && abs(right_line[i - 1] - right_line[i]) < 5
            && abs(right_line[i - 2] - right_line[i]) < 5)
            && (turnWhere == 0 || turnWhere == LEFT)
            ) {
            flag = 1;
            turnWhere = LEFT;
            break;
        }
    }
    //printf("flag=%d,where=%d\n", flag,turnWhere);

    if (my_road[10].white_num == 0) {
        flag++;
    }

    if (flag == 1) {
        if (lastState == 0) {
            lastState = 1;
        }

        else if (lastState == 1) {
            state = stateCrossCircleIn;
            lastTwoState = 0;
            lastState = 0;
        }
        else {
            lastState = 0;
            lastTwoState = 0;
        }
    }
    else if (flag == 0) {
        lastState = 0;
        lastTwoState = 0;
    }

}

////////////////////////////////////////////
//功能：进入十字回环补线
//输入：
//输出：
//备注：
///////////////////////////////////////////
void design_cross_circle_in() {
    if (turnWhere == RIGHT) {
        double k;
        find_jump_point();
        if (rightDownJumpPoint != 119) {
            k = calculate_slope_two_point(rightUpJumpPoint, RIGHT, rightDownJumpPoint, RIGHT);
        }
        else {
            k = calculate_slope(rightUpJumpPoint - 10, rightUpJumpPoint, RIGHT);
        }

        int x = right_line[rightUpJumpPoint];
        ////printf("ru=%d,rd=%d\n", rightUpJumpPoint, rightDownJumpPoint);
        for (int i = rightDownJumpPoint + 1; i >= rightUpJumpPoint - 1; i--) {
            right_line[i] = k * (i - rightUpJumpPoint) + x;
        }
    }
    if (turnWhere == LEFT) {
        find_jump_point();
        double k;
        if(leftDownJumpPoint != 119) {
            k = calculate_slope_two_point(leftUpJumpPoint, LEFT, leftDownJumpPoint, LEFT);
        }
        else {
            k = calculate_slope(leftUpJumpPoint - 10, leftUpJumpPoint, LEFT);
        }

        int x = left_line[leftUpJumpPoint];
        for (int i = leftDownJumpPoint + 1; i >= leftUpJumpPoint - 1; i--) {
            left_line[i] = k * (i - leftUpJumpPoint) + x;
        }
    }
}

////////////////////////////////////////////
//功能：进入入回环弯道
//输入：
//输出：
//备注：
///////////////////////////////////////////
void cross_circle_ing() {

    int flag;
    flag = circle_360();
    //printf("f=%d\n", flag);
    if (flag == 1) {
        if (lastState == 0) {
            lastState = 1;
        }

        else if (lastState == 1) {
            state = stateCrossCircleIng;
            lastTwoState = 0;
            lastState = 0;
        }
        else {
            lastState = 0;
            lastTwoState = 0;
        }
    }
    else if (flag == 0) {
        lastState = 0;
        lastTwoState = 0;
    }
}

////////////////////////////////////////////
//功能： 正三叉路口识别
//输入：
//输出：
//备注：
///////////////////////////////////////////
void folk_road_in() {
    if (TurnFolkRoad == RIGHT) {
        for (int i = 0; i <= 109; i++) {
            if (my_road[i].white_num >= 2) {
                if (j_continue[i] == 1) {
                    j_continue[i] = 2;
                }
            }
            left_line[i] = my_road[i].connected[j_continue[i]].left;
            right_line[i] = my_road[i].connected[j_continue[i]].right;
        }
    }
    else if (TurnFolkRoad == LEFT) {
        for (int i = 0; i <= 109; i++) {
            if (my_road[i].white_num >= 2) {
                if (j_continue[i] == 2) {
                    j_continue[i] = 1;
                }
            }
            left_line[i] = my_road[i].connected[j_continue[i]].left;
            right_line[i] = my_road[i].connected[j_continue[i]].right;
        }
    }

    //寻找上顶点
    for (int i = 40; i < 100; i++) {
        if (abs(my_road[i].connected[j_continue[i]].width - my_road[i + 1].connected[j_continue[i + 1]].width) > 30
            && my_road[i].white_num - my_road[i + 1].white_num >= 1) {
            upSharpPoint = i;
        }
    }

    //左右拐点
    int leftNum = 0;
    int rightNum = 0;
    int rightSharpGroup[CAMERA_H] = { 0 };
    int leftSharpGroup[CAMERA_H] = { 0 };
    int j = 0, k = 0;

    int type;
    if (j_continue[upSharpPoint - 1] == 1) {
        type = RIGHT;
    }
    else if (j_continue[upSharpPoint - 1] == 2) {
        type = LEFT;
    }
    for (int i = upSharpPoint; i < 108; i++) {
        if (calculate_slope(i - 10, i, RIGHT) - calculate_slope(i, i + 10, RIGHT) < -1
            //&& fabs(calculate_slope(upSharpPoint - 10, upSharpPoint, type)-calculate_slope(rightSharpPoint-10, rightSharpPoint, RIGHT)) < 1
            ) {
            rightSharpGroup[j] = i;
            j++;
        }
        if (calculate_slope(i - 10, i, LEFT) - calculate_slope(i, i + 10, LEFT) > 1
            //&& fabs(calculate_slope(upSharpPoint - 10, upSharpPoint, type)-calculate_slope(leftSharpPoint - 10,leftSharpPoint, LEFT)) < 1
            ) {
            leftSharpGroup[k] = i;
            k++;
        }
    }
    int rStart = 0, rEnd = 0, rStartT = 0, rEndT = 0;
    int lStart = 0, lEnd = 0, lStartT = 0, lEndT = 0;
    int count = 1;

    for (int i = 1; i < j; i++) {
        if (rightSharpGroup[i] - rightSharpGroup[i - 1] == 1 && (rightSharpGroup[i - 1] - rightSharpGroup[i - 2] > 1 || i == 1)) {
            rStartT = rightSharpGroup[i - 1];
        }

        if (rightSharpGroup[i] - rightSharpGroup[i - 1] == 1) {
            count++;
        }

        if ((rightSharpGroup[i] - rightSharpGroup[i - 1] > 1 && rightSharpGroup[i - 1] - rightSharpGroup[i - 2] == 1)
            ) {
            rEndT = rightSharpGroup[i - 1];
            if (rightNum <= count) {
                rightNum = count;
                rStart = rStartT;
                rEnd = rEndT;
            }
            count = 1;
        }
        else if ((i == j - 1 && rightSharpGroup[i - 1] == rightSharpGroup[i] - 1)) {
            rEndT = rightSharpGroup[i];
            if (rightNum <= count) {
                rightNum = count;
                rStart = rStartT;
                rEnd = rEndT;
            }
            count = 1;
        }
    }
    rightSharpPoint = (rStart + rEnd) / 2;

    for (int i = 1; i < k; i++) {
        if (leftSharpGroup[i] - leftSharpGroup[i - 1] == 1 && (leftSharpGroup[i - 1] - leftSharpGroup[i - 2] > 1 || i == 1)) {
            lStartT = leftSharpGroup[i - 1];
        }

        if (leftSharpGroup[i] - leftSharpGroup[i - 1] == 1) {
            count++;
        }

        if (leftSharpGroup[i] - leftSharpGroup[i - 1] > 1 && leftSharpGroup[i - 1] - leftSharpGroup[i - 2] == 1) {
            lEndT = leftSharpGroup[i - 1];
            if (leftNum <= count) {
                leftNum = count;
                lStart = lStartT;
                lEnd = lEndT;
            }
            count = 1;
        }
        else if ((i == k - 1 && leftSharpGroup[i - 1] == leftSharpGroup[i] - 1)) {
            lEndT = leftSharpGroup[i];
            if (leftNum <= count) {
                leftNum = count;
                lStart = lStartT;
                lEnd = lEndT;
            }
            count = 1;
        }
    }
    leftSharpPoint = (lStart + lEnd) / 2;

    if (j_continue[upSharpPoint - 1] == 2) {
        if (fabs(calculate_slope(upSharpPoint - 10, upSharpPoint, LEFT) - calculate_slope(rightSharpPoint - 10, rightSharpPoint, RIGHT)) < 0.2
            && fabs(calculate_slope(upSharpPoint - 10, upSharpPoint, LEFT) - calculate_slope(rightSharpPoint, rightSharpPoint + 10, RIGHT)) > 1) {
            if (upSharpPoint != 119 && leftSharpPoint != 119 && rightSharpPoint != 119) {
                state = stateFolkRoadIn;
            }
        }
    }
    else if (j_continue[upSharpPoint - 1] == 1) {
        if (fabs(calculate_slope(upSharpPoint - 10, upSharpPoint, RIGHT) - calculate_slope(leftSharpPoint - 10, leftSharpPoint, LEFT)) < 0.2
            && fabs(calculate_slope(upSharpPoint - 10, upSharpPoint, RIGHT) - calculate_slope(leftSharpPoint, leftSharpPoint + 10, LEFT)) > 1) {
            if (upSharpPoint != 119 && leftSharpPoint != 119 && rightSharpPoint != 119) {
                state = stateFolkRoadIn;
            }
        }
    }
}

////////////////////////////////////////////
//功能：三叉路线规划
//输入：
//输出：
//备注：
///////////////////////////////////////////
void design_folkroad_in() {

    if (TurnFolkRoad == RIGHT) {
        for (int i = 0; i <= 109; i++) {
            if (my_road[i].white_num >= 2) {
                if (j_continue[i] == 1) {
                    j_continue[i] = 2;
                }
            }
            left_line[i] = my_road[i].connected[j_continue[i]].left;
            right_line[i] = my_road[i].connected[j_continue[i]].right;
        }
    }
    else if (TurnFolkRoad == LEFT) {
        for (int i = 0; i <= 109; i++) {
            if (my_road[i].white_num >= 2) {
                if (j_continue[i] == 2) {
                    j_continue[i] = 1;
                }
            }
            left_line[i] = my_road[i].connected[j_continue[i]].left;
            right_line[i] = my_road[i].connected[j_continue[i]].right;
        }
    }

    //寻找上顶点
    for (int i = 40; i < 105; i++) {
        if (abs(my_road[i].connected[j_continue[i]].width - my_road[i + 1].connected[j_continue[i + 1]].width) > 30
            && my_road[i].white_num - my_road[i + 1].white_num >= 1) {
            upSharpPoint = i;
        }
    }

    //左右拐点
    int leftNum = 0;
    int rightNum = 0;
    int rightSharpGroup[CAMERA_H] = { 0 };
    int leftSharpGroup[CAMERA_H] = { 0 };
    int j = 0, l = 0;
    for (int i = upSharpPoint; i < 108; i++) {
        ////printf("dk=%f", calculate_slope(i - 10, i, LEFT) - calculate_slope(i, i + 10, LEFT));
        if (calculate_slope(i - 10, i, RIGHT) - calculate_slope(i, i + 10, RIGHT) < -1) {
            rightSharpGroup[j] = i;
            j++;
        }
        if (calculate_slope(i - 10, i, LEFT) - calculate_slope(i, i + 10, LEFT) > 1) {
            leftSharpGroup[l] = i;

            l++;
        }
    }
    int rStart = 0, rEnd = 0, rStartT = 0, rEndT = 0;
    int lStart = 0, lEnd = 0, lStartT = 0, lEndT = 0;
    int count = 1;

    for (int i = 1; i < j; i++) {
        if (rightSharpGroup[i] - rightSharpGroup[i - 1] == 1 && (rightSharpGroup[i - 1] - rightSharpGroup[i - 2] > 1 || i == 1)) {
            rStartT = rightSharpGroup[i - 1];
        }

        if (rightSharpGroup[i] - rightSharpGroup[i - 1] == 1) {
            count++;
        }

        if ((rightSharpGroup[i] - rightSharpGroup[i - 1] > 1 && rightSharpGroup[i - 1] - rightSharpGroup[i - 2] == 1)
            ) {
            rEndT = rightSharpGroup[i - 1];
            if (rightNum <= count) {
                rightNum = count;
                rStart = rStartT;
                rEnd = rEndT;
            }
            count = 1;
        }
        else if ((i == j - 1 && rightSharpGroup[i - 1] == rightSharpGroup[i] - 1)) {
            rEndT = rightSharpGroup[i];
            if (rightNum <= count) {
                rightNum = count;
                rStart = rStartT;
                rEnd = rEndT;
            }
            count = 1;
        }
    }
    rightSharpPoint = (rStart + rEnd) / 2;

    for (int i = 1; i < l; i++) {
        if (leftSharpGroup[i] - leftSharpGroup[i - 1] == 1 && (leftSharpGroup[i - 1] - leftSharpGroup[i - 2] > 1 || i == 1)) {
            lStartT = leftSharpGroup[i - 1];
        }

        if (leftSharpGroup[i] - leftSharpGroup[i - 1] == 1) {
            count++;
        }

        if (leftSharpGroup[i] - leftSharpGroup[i - 1] > 1 && leftSharpGroup[i - 1] - leftSharpGroup[i - 2] == 1) {
            lEndT = leftSharpGroup[i - 1];
            if (leftNum <= count) {
                leftNum = count;
                lStart = lStartT;
                lEnd = lEndT;
            }
            count = 1;
        }
        else if ((i == l - 1 && leftSharpGroup[i - 1] == leftSharpGroup[i] - 1)) {
            lEndT = leftSharpGroup[i];
            if (leftNum <= count) {
                leftNum = count;
                lStart = lStartT;
                lEnd = lEndT;
            }
            count = 1;
        }
    }
    leftSharpPoint = (lStart + lEnd) / 2;

    //printf("us=%d,ls=%d,rs=%d\n", upSharpPoint, leftSharpPoint, rightSharpPoint);

    double k;
    int wayDesign = 0;
    int x;
    if (TurnFolkRoad == RIGHT) {
        if (leftSharpPoint == 0) {
            wayDesign = 2;
        }
        switch (wayDesign) {
        case 0:
            k = calculate_slope_two_point(upSharpPoint, LEFT, leftSharpPoint, LEFT);
            x = left_line[leftSharpPoint];
            for (int i = upSharpPoint; i <= leftSharpPoint; i++) {
                left_line[i] = k * (i - leftSharpPoint) + x;
            }
            break;
        case 1:
            k = calculate_slope(rightSharpPoint - 10, rightSharpPoint, RIGHT);
            x = left_line[upSharpPoint];
            for (int i = upSharpPoint; i <= leftSharpPoint; i++) {
                left_line[i] = k * (i - upSharpPoint) + x;
            }
            break;
        case 2:
            k = calculate_slope(upSharpPoint - 10, upSharpPoint, LEFT);
            x = left_line[upSharpPoint];
            for (int i = upSharpPoint; i <= 109; i++) {
                left_line[i] = k * (i - upSharpPoint) + x;
            }
            break;
        }
    }
    else if (TurnFolkRoad == LEFT) {
        switch (wayDesign) {
        case 0:
            k = calculate_slope_two_point(upSharpPoint, RIGHT, rightSharpPoint, RIGHT);
            x = right_line[rightSharpPoint];
            for (int i = upSharpPoint; i <= rightSharpPoint; i++) {
                right_line[i] = k * (i - rightSharpPoint) + x;
            }
            break;
        case 1:
            k = calculate_slope(leftSharpPoint - 10, leftSharpPoint, LEFT);
            x = right_line[upSharpPoint];
            for (int i = upSharpPoint; i <= rightSharpPoint; i++) {
                right_line[i] = k * (i - upSharpPoint) + x;
            }
            break;
        case 2:
            k = calculate_slope(upSharpPoint - 10, upSharpPoint, RIGHT);
            x = right_line[upSharpPoint];
            for (int i = upSharpPoint; i <= rightSharpPoint; i++) {
                right_line[i] = k * (i - upSharpPoint) + x;
            }
            break;
        }
    }

}

////////////////////////////////////////////
//功能： 出三叉路口识别
//输入：
//输出：
//备注：
///////////////////////////////////////////
void folk_road_out() {
    int flag = 1;

    if (TurnFolkRoad == RIGHT) {
        for (int i = 108; i > 35; i--) {
            if (abs(left_line[i + 1] - left_line[i]) > 3) {
                flag = 0;
            }
        }
    }
    else if (TurnFolkRoad == LEFT) {
        for (int i = 108; i > 35; i--) {
            if (abs(right_line[i + 1] - right_line[i]) > 3) {
                flag = 0;
            }
        }
    }
    if (flag == 1) {
        if (lastTwoState == 0 && lastState == 0) {
            lastTwoState = 1;
        }
        else if (lastTwoState == 1 && lastState == 0) {
            lastState = 1;
        }
        else if (lastTwoState == 1 && lastState == 1) {
            state = stateStart;
            lastTwoState = 0;
            lastState = 0;
        }
        else {
            lastState = 0;
            lastTwoState = 0;
        }
    }
    else if (flag == 0) {
        lastState = 0;
        lastTwoState = 0;
    }
}

void carPark_in()
{
    //int left_or_right;
    int gapNumber = 0;
    for (int i = 60; i < 95; i++)
    {

        if (my_road[i].white_num > 3 && my_road[i].connected[j_continue[i]].width > 25)
        {
            for (int gap = 1; gap < j_continue[i]; gap++)
            {
                if (my_road[i].connected[gap].width <= 5)
                {
                    gapNumber++;
                }
                if (gapNumber >= 4)
                {
                    state = 14;
                    break;
                }
            }

        }

    }
}
